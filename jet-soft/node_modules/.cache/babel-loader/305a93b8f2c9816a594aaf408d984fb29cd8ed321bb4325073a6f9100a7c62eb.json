{"ast":null,"code":"'use client';\n\nimport _taggedTemplateLiteralLoose from \"@babel/runtime/helpers/esm/taggedTemplateLiteralLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4;\nimport React, { useState, useRef, useEffect, useCallback, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport isUndefined from 'lodash/isUndefined';\nimport isNil from 'lodash/isNil';\nimport isFunction from 'lodash/isFunction';\nimport remove from 'lodash/remove';\nimport clone from 'lodash/clone';\nimport isArray from 'lodash/isArray';\nimport omit from 'lodash/omit';\nimport pick from 'lodash/pick';\nimport getWidth from 'dom-lib/getWidth';\nimport shallowEqual from '../utils/shallowEqual';\nimport { filterNodesOfTree } from '../utils/treeUtils';\nimport Plaintext from '../internals/Plaintext';\nimport { createChainedFunction, tplTransform, useClassNames, useCustom, useControlled, useEventCallback, mergeRefs, isOneOf, KEY_VALUES } from '../utils';\nimport { oneOf } from '../internals/propTypes';\nimport { getDataGroupBy } from '../utils/getDataGroupBy';\nimport { Listbox, ListItem, ListCheckItem, PickerToggle, PickerPopup, PickerToggleTrigger, useFocusItemValue, usePickerClassName, useSearch, usePickerRef, useToggleKeyDownEvent, pickTriggerPropKeys, omitTriggerPropKeys, listPickerPropTypes } from '../internals/Picker';\nimport Tag from '../Tag';\nimport InputAutosize from './InputAutosize';\nimport TextBox from './TextBox';\nimport InputPickerContext from './InputPickerContext';\nimport Stack from '../Stack';\nvar convertSize = function convertSize(size) {\n  switch (size) {\n    case 'lg':\n      return 'lg';\n    case 'sm':\n    case 'xs':\n      return 'sm';\n    default:\n      return 'md';\n  }\n};\n/**\n * Single item selector with text box input.\n *\n * @see https://rsuitejs.com/components/input-picker\n */\nvar InputPicker = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _merge;\n  var _props$as = props.as,\n    Component = _props$as === void 0 ? 'div' : _props$as,\n    _props$appearance = props.appearance,\n    appearance = _props$appearance === void 0 ? 'default' : _props$appearance,\n    _props$cleanable = props.cleanable,\n    cleanable = _props$cleanable === void 0 ? true : _props$cleanable,\n    _props$cacheData = props.cacheData,\n    cacheData = _props$cacheData === void 0 ? [] : _props$cacheData,\n    _props$classPrefix = props.classPrefix,\n    classPrefix = _props$classPrefix === void 0 ? 'picker' : _props$classPrefix,\n    _props$data = props.data,\n    controlledData = _props$data === void 0 ? [] : _props$data,\n    disabled = props.disabled,\n    readOnly = props.readOnly,\n    plaintext = props.plaintext,\n    defaultValue = props.defaultValue,\n    _props$defaultOpen = props.defaultOpen,\n    defaultOpen = _props$defaultOpen === void 0 ? false : _props$defaultOpen,\n    _props$disabledItemVa = props.disabledItemValues,\n    disabledItemValues = _props$disabledItemVa === void 0 ? [] : _props$disabledItemVa,\n    overrideLocale = props.locale,\n    toggleAs = props.toggleAs,\n    style = props.style,\n    _props$searchable = props.searchable,\n    searchable = _props$searchable === void 0 ? true : _props$searchable,\n    controlledOpen = props.open,\n    placeholder = props.placeholder,\n    groupBy = props.groupBy,\n    menuClassName = props.menuClassName,\n    menuStyle = props.menuStyle,\n    _props$menuAutoWidth = props.menuAutoWidth,\n    menuAutoWidth = _props$menuAutoWidth === void 0 ? true : _props$menuAutoWidth,\n    _props$menuMaxHeight = props.menuMaxHeight,\n    menuMaxHeight = _props$menuMaxHeight === void 0 ? 320 : _props$menuMaxHeight,\n    creatable = props.creatable,\n    shouldDisplayCreateOption = props.shouldDisplayCreateOption,\n    valueProp = props.value,\n    _props$valueKey = props.valueKey,\n    valueKey = _props$valueKey === void 0 ? 'value' : _props$valueKey,\n    virtualized = props.virtualized,\n    _props$labelKey = props.labelKey,\n    labelKey = _props$labelKey === void 0 ? 'label' : _props$labelKey,\n    listProps = props.listProps,\n    id = props.id,\n    tabIndex = props.tabIndex,\n    sort = props.sort,\n    renderMenu = props.renderMenu,\n    renderExtraFooter = props.renderExtraFooter,\n    renderValue = props.renderValue,\n    renderMenuItem = props.renderMenuItem,\n    renderMenuGroup = props.renderMenuGroup,\n    onEnter = props.onEnter,\n    onEntered = props.onEntered,\n    onExit = props.onExit,\n    onExited = props.onExited,\n    onChange = props.onChange,\n    onClean = props.onClean,\n    onCreate = props.onCreate,\n    onSearch = props.onSearch,\n    onSelect = props.onSelect,\n    onOpen = props.onOpen,\n    onClose = props.onClose,\n    onBlur = props.onBlur,\n    onFocus = props.onFocus,\n    searchBy = props.searchBy,\n    _props$placement = props.placement,\n    placement = _props$placement === void 0 ? 'bottomStart' : _props$placement,\n    rest = _objectWithoutPropertiesLoose(props, [\"as\", \"appearance\", \"cleanable\", \"cacheData\", \"classPrefix\", \"data\", \"disabled\", \"readOnly\", \"plaintext\", \"defaultValue\", \"defaultOpen\", \"disabledItemValues\", \"locale\", \"toggleAs\", \"style\", \"searchable\", \"open\", \"placeholder\", \"groupBy\", \"menuClassName\", \"menuStyle\", \"menuAutoWidth\", \"menuMaxHeight\", \"creatable\", \"shouldDisplayCreateOption\", \"value\", \"valueKey\", \"virtualized\", \"labelKey\", \"listProps\", \"id\", \"tabIndex\", \"sort\", \"renderMenu\", \"renderExtraFooter\", \"renderValue\", \"renderMenuItem\", \"renderMenuGroup\", \"onEnter\", \"onEntered\", \"onExit\", \"onExited\", \"onChange\", \"onClean\", \"onCreate\", \"onSearch\", \"onSelect\", \"onOpen\", \"onClose\", \"onBlur\", \"onFocus\", \"searchBy\", \"placement\"]);\n  var _useContext = useContext(InputPickerContext),\n    multi = _useContext.multi,\n    tagProps = _useContext.tagProps,\n    trigger = _useContext.trigger,\n    disabledOptions = _useContext.disabledOptions,\n    onTagRemove = _useContext.onTagRemove,\n    renderCheckbox = _useContext.renderCheckbox;\n  if (groupBy === valueKey || groupBy === labelKey) {\n    throw Error('`groupBy` can not be equal to `valueKey` and `labelKey`');\n  }\n  var inputRef = useRef();\n  var _usePickerRef = usePickerRef(ref),\n    triggerRef = _usePickerRef.trigger,\n    root = _usePickerRef.root,\n    target = _usePickerRef.target,\n    overlay = _usePickerRef.overlay,\n    list = _usePickerRef.list;\n  var _useCustom = useCustom(['Picker', 'InputPicker'], overrideLocale),\n    locale = _useCustom.locale;\n  var _useClassNames = useClassNames(classPrefix),\n    prefix = _useClassNames.prefix,\n    merge = _useClassNames.merge;\n  var _useState = useState(controlledData),\n    uncontrolledData = _useState[0],\n    setData = _useState[1];\n  var _useState2 = useState(100),\n    maxWidth = _useState2[0],\n    setMaxWidth = _useState2[1];\n  var _useState3 = useState([]),\n    newData = _useState3[0],\n    setNewData = _useState3[1];\n  var _useState4 = useState(defaultOpen),\n    uncontrolledOpen = _useState4[0],\n    setOpen = _useState4[1];\n  var open = isUndefined(controlledOpen) ? uncontrolledOpen : controlledOpen;\n  var getAllData = useCallback(function () {\n    return [].concat(uncontrolledData, newData);\n  }, [uncontrolledData, newData]);\n  var getAllDataAndCache = useCallback(function () {\n    return [].concat(getAllData(), cacheData);\n  }, [getAllData, cacheData]);\n  var _useControlled = useControlled(valueProp, multi ? defaultValue || [] : defaultValue),\n    value = _useControlled[0],\n    setValue = _useControlled[1],\n    isControlled = _useControlled[2];\n  var cloneValue = function cloneValue() {\n    return multi ? clone(value) || [] : value;\n  };\n  var handleClose = useEventCallback(function () {\n    var _triggerRef$current, _target$current, _target$current$focus;\n    triggerRef === null || triggerRef === void 0 ? void 0 : (_triggerRef$current = triggerRef.current) === null || _triggerRef$current === void 0 ? void 0 : _triggerRef$current.close();\n\n    // The focus is on the trigger button after closing\n    (_target$current = target.current) === null || _target$current === void 0 ? void 0 : (_target$current$focus = _target$current.focus) === null || _target$current$focus === void 0 ? void 0 : _target$current$focus.call(_target$current);\n  });\n\n  // Used to hover the focuse item  when trigger `onKeydown`\n  var _useFocusItemValue = useFocusItemValue(multi ? value === null || value === void 0 ? void 0 : value[0] : value, {\n      data: getAllDataAndCache(),\n      valueKey: valueKey,\n      target: function target() {\n        return overlay.current;\n      }\n    }),\n    focusItemValue = _useFocusItemValue.focusItemValue,\n    setFocusItemValue = _useFocusItemValue.setFocusItemValue,\n    onKeyDown = _useFocusItemValue.onKeyDown;\n  var handleSearchCallback = useEventCallback(function (searchKeyword, filteredData, event) {\n    var _filteredData$;\n    // The first option after filtering is the focus.\n    setFocusItemValue(disabledOptions ? searchKeyword : (filteredData === null || filteredData === void 0 ? void 0 : (_filteredData$ = filteredData[0]) === null || _filteredData$ === void 0 ? void 0 : _filteredData$[valueKey]) || searchKeyword);\n    onSearch === null || onSearch === void 0 ? void 0 : onSearch(searchKeyword, event);\n  });\n\n  // Use search keywords to filter options.\n  var _useSearch = useSearch(getAllData(), {\n      labelKey: labelKey,\n      searchBy: searchBy,\n      callback: handleSearchCallback\n    }),\n    searchKeyword = _useSearch.searchKeyword,\n    resetSearch = _useSearch.resetSearch,\n    checkShouldDisplay = _useSearch.checkShouldDisplay,\n    handleSearch = _useSearch.handleSearch; // Update the state when the data in props changes\n  useEffect(function () {\n    if (controlledData && !shallowEqual(controlledData, uncontrolledData)) {\n      var _controlledData$;\n      setData(controlledData);\n      setNewData([]);\n      setFocusItemValue(controlledData === null || controlledData === void 0 ? void 0 : (_controlledData$ = controlledData[0]) === null || _controlledData$ === void 0 ? void 0 : _controlledData$[valueKey]);\n    }\n  }, [setFocusItemValue, controlledData, uncontrolledData, valueKey]);\n  useEffect(function () {\n    var _triggerRef$current2;\n    // In multiple selection, you need to set a maximum width for the input.\n    if ((_triggerRef$current2 = triggerRef.current) !== null && _triggerRef$current2 !== void 0 && _triggerRef$current2.root) {\n      setMaxWidth(getWidth(triggerRef.current.root));\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // Update the position of the menu when the search keyword and value change\n  useEffect(function () {\n    var _triggerRef$current3, _triggerRef$current3$;\n    (_triggerRef$current3 = triggerRef.current) === null || _triggerRef$current3 === void 0 ? void 0 : (_triggerRef$current3$ = _triggerRef$current3.updatePosition) === null || _triggerRef$current3$ === void 0 ? void 0 : _triggerRef$current3$.call(_triggerRef$current3);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchKeyword, value]);\n  var getDataItem = function getDataItem(value) {\n    // Find active `MenuItem` by `value`\n    var allData = getAllDataAndCache();\n    var activeItem = allData.find(function (item) {\n      return shallowEqual(item[valueKey], value);\n    });\n    var itemNode = placeholder;\n    if (activeItem !== null && activeItem !== void 0 && activeItem[labelKey]) {\n      itemNode = activeItem === null || activeItem === void 0 ? void 0 : activeItem[labelKey];\n    }\n    return {\n      isValid: !!activeItem,\n      activeItem: activeItem,\n      itemNode: itemNode\n    };\n  };\n  var getInput = function getInput() {\n    var _inputRef$current;\n    return multi ? (_inputRef$current = inputRef.current) === null || _inputRef$current === void 0 ? void 0 : _inputRef$current.input : inputRef.current;\n  };\n  var focusInput = function focusInput() {\n    var _getInput;\n    return (_getInput = getInput()) === null || _getInput === void 0 ? void 0 : _getInput.focus();\n  };\n  var blurInput = function blurInput() {\n    var _getInput2;\n    return (_getInput2 = getInput()) === null || _getInput2 === void 0 ? void 0 : _getInput2.blur();\n  };\n\n  /**\n   * Convert the string of the newly created option into an object.\n   */\n  var createOption = function createOption(value) {\n    var _ref2;\n    if (groupBy) {\n      var _ref;\n      return _ref = {\n        create: true\n      }, _ref[groupBy] = locale === null || locale === void 0 ? void 0 : locale.newItem, _ref[valueKey] = value, _ref[labelKey] = value, _ref;\n    }\n    return _ref2 = {\n      create: true\n    }, _ref2[valueKey] = value, _ref2[labelKey] = value, _ref2;\n  };\n  var handleChange = useEventCallback(function (value, event) {\n    onChange === null || onChange === void 0 ? void 0 : onChange(value, event);\n  });\n  var handleRemoveItemByTag = useEventCallback(function (tag, event) {\n    event.stopPropagation();\n    var val = cloneValue();\n    remove(val, function (itemVal) {\n      return shallowEqual(itemVal, tag);\n    });\n    setValue(val);\n    handleChange(val, event);\n    onTagRemove === null || onTagRemove === void 0 ? void 0 : onTagRemove(tag, event);\n  });\n  var handleSelect = useEventCallback(function (value, item, event) {\n    onSelect === null || onSelect === void 0 ? void 0 : onSelect(value, item, event);\n    if (creatable && item.create) {\n      delete item.create;\n      onCreate === null || onCreate === void 0 ? void 0 : onCreate(value, item, event);\n      setNewData(newData.concat(item));\n    }\n  });\n\n  /**\n   * Callback triggered by single selection\n   * @param value\n   * @param item\n   * @param event\n   */\n  var handleSelectItem = useEventCallback(function (value, item, event) {\n    setValue(value);\n    setFocusItemValue(value);\n    resetSearch();\n    handleSelect(value, item, event);\n    handleChange(value, event);\n    handleClose();\n  });\n\n  /**\n   * Callback triggered by multiple selection\n   * @param nextItemValue\n   * @param item\n   * @param event\n   * @param checked\n   */\n  var handleCheckTag = useEventCallback(function (nextItemValue, item, event, checked) {\n    var val = cloneValue();\n    if (checked) {\n      val.push(nextItemValue);\n    } else {\n      remove(val, function (itemVal) {\n        return shallowEqual(itemVal, nextItemValue);\n      });\n    }\n    setValue(val);\n    resetSearch();\n    setFocusItemValue(nextItemValue);\n    handleSelect(val, item, event);\n    handleChange(val, event);\n    focusInput();\n  });\n  var handleTagKeyPress = useEventCallback(function (event) {\n    // When composing, ignore the keypress event.\n    if (event.nativeEvent.isComposing) {\n      return;\n    }\n    var val = cloneValue();\n    var data = getAllData();\n    if (!focusItemValue || !data) {\n      return;\n    }\n\n    // If the value is disabled in this option, it is returned.\n    if (disabledItemValues !== null && disabledItemValues !== void 0 && disabledItemValues.some(function (item) {\n      return item === focusItemValue;\n    })) {\n      return;\n    }\n    if (!val.some(function (v) {\n      return shallowEqual(v, focusItemValue);\n    })) {\n      val.push(focusItemValue);\n    } else if (!disabledOptions) {\n      remove(val, function (itemVal) {\n        return shallowEqual(itemVal, focusItemValue);\n      });\n    }\n    var focusItem = data.find(function (item) {\n      return shallowEqual(item === null || item === void 0 ? void 0 : item[valueKey], focusItemValue);\n    });\n    if (!focusItem) {\n      focusItem = createOption(focusItemValue);\n    }\n    setValue(val);\n    resetSearch();\n    handleSelect(val, focusItem, event);\n    handleChange(val, event);\n  });\n  var handleMenuItemKeyPress = useEventCallback(function (event) {\n    if (!focusItemValue || !controlledData) {\n      return;\n    }\n\n    // If the value is disabled in this option, it is returned.\n    if (disabledItemValues !== null && disabledItemValues !== void 0 && disabledItemValues.some(function (item) {\n      return item === focusItemValue;\n    })) {\n      return;\n    }\n\n    // Find active `MenuItem` by `value`\n    var allData = getAllData();\n    var focusItem = allData.find(function (item) {\n      return shallowEqual(item[valueKey], focusItemValue);\n    });\n\n    // FIXME Bad state flow\n    if (!focusItem && focusItemValue === searchKeyword) {\n      focusItem = createOption(searchKeyword);\n    }\n    setValue(focusItemValue);\n    resetSearch();\n    if (focusItem) {\n      handleSelect(focusItemValue, focusItem, event);\n    }\n    handleChange(focusItemValue, event);\n    handleClose();\n  });\n\n  /**\n   * Remove the last item, after pressing the back key on the keyboard.\n   * @param event\n   */\n  var removeLastItem = useEventCallback(function (event) {\n    var target = event === null || event === void 0 ? void 0 : event.target;\n    if ((target === null || target === void 0 ? void 0 : target.tagName) !== 'INPUT') {\n      focusInput();\n      return;\n    }\n    if ((target === null || target === void 0 ? void 0 : target.tagName) === 'INPUT' && target !== null && target !== void 0 && target.value) {\n      return;\n    }\n    var val = cloneValue();\n    val.pop();\n    setValue(val);\n    handleChange(val, event);\n  });\n  var handleClean = useEventCallback(function (event) {\n    if (disabled || searchKeyword !== '') {\n      return;\n    }\n    setValue(null);\n    setFocusItemValue(null);\n    resetSearch();\n    if (multi) {\n      handleChange([], event);\n    } else {\n      handleChange(null, event);\n    }\n    onClean === null || onClean === void 0 ? void 0 : onClean(event);\n  });\n  var events = {\n    onMenuPressBackspace: multi ? removeLastItem : handleClean,\n    onMenuKeyDown: onKeyDown,\n    onMenuPressEnter: undefined,\n    onKeyDown: undefined\n  };\n  var handleKeyPress = useEventCallback(function (event) {\n    // When typing a space, create a tag.\n    if (isOneOf('Space', trigger) && event.key === KEY_VALUES.SPACE) {\n      handleTagKeyPress(event);\n      event.preventDefault();\n    }\n\n    // When typing a comma, create a tag.\n    if (isOneOf('Comma', trigger) && event.key === KEY_VALUES.COMMA) {\n      handleTagKeyPress(event);\n      event.preventDefault();\n    }\n  });\n  if (multi) {\n    if (isOneOf('Enter', trigger)) {\n      events.onMenuPressEnter = handleTagKeyPress;\n    }\n    if (creatable) {\n      events.onKeyDown = handleKeyPress;\n    }\n  } else {\n    events.onMenuPressEnter = handleMenuItemKeyPress;\n  }\n  var onPickerKeyDown = useToggleKeyDownEvent(_extends({\n    trigger: triggerRef,\n    target: target,\n    overlay: overlay\n  }, events, rest));\n  var handleExited = useEventCallback(function () {\n    setFocusItemValue(multi ? value === null || value === void 0 ? void 0 : value[0] : value);\n    resetSearch();\n    onClose === null || onClose === void 0 ? void 0 : onClose();\n  });\n  var handleFocus = useEventCallback(function () {\n    if (!readOnly) {\n      var _triggerRef$current4;\n      setOpen(true);\n      (_triggerRef$current4 = triggerRef.current) === null || _triggerRef$current4 === void 0 ? void 0 : _triggerRef$current4.open();\n    }\n  });\n  var handleEnter = useEventCallback(function () {\n    focusInput();\n    setOpen(true);\n  });\n  var handleExit = useEventCallback(function () {\n    blurInput();\n    setOpen(false);\n  });\n  var renderListItem = function renderListItem(label, item) {\n    // 'Create option \"{0}\"' =>  Create option \"xxxxx\"\n    var newLabel = item.create ? /*#__PURE__*/React.createElement(\"span\", null, tplTransform(locale.createOption, label)) : label;\n    return renderMenuItem ? renderMenuItem(newLabel, item) : newLabel;\n  };\n  var checkValue = function checkValue() {\n    if (multi) {\n      return {\n        isValid: false,\n        itemNode: null\n      };\n    }\n    var dataItem = getDataItem(value);\n    var itemNode = dataItem.itemNode;\n    if (!isNil(value) && isFunction(renderValue)) {\n      itemNode = renderValue(value, dataItem.activeItem, itemNode);\n    }\n    return {\n      isValid: dataItem.isValid,\n      itemNode: itemNode\n    };\n  };\n  var renderMultiValue = function renderMultiValue() {\n    if (!multi) {\n      return null;\n    }\n    var _tagProps$closable = tagProps.closable,\n      closable = _tagProps$closable === void 0 ? true : _tagProps$closable,\n      onClose = tagProps.onClose,\n      tagRest = _objectWithoutPropertiesLoose(tagProps, [\"closable\", \"onClose\"]);\n    var tags = value || [];\n    var items = [];\n    var tagElements = tags.map(function (tag) {\n      var _getDataItem = getDataItem(tag),\n        isValid = _getDataItem.isValid,\n        itemNode = _getDataItem.itemNode,\n        activeItem = _getDataItem.activeItem;\n      items.push(activeItem);\n      if (!isValid) {\n        return null;\n      }\n      return /*#__PURE__*/React.createElement(Tag, _extends({\n        role: \"option\"\n      }, tagRest, {\n        key: tag,\n        size: convertSize(rest.size),\n        closable: !disabled && closable && !readOnly && !plaintext,\n        title: typeof itemNode === 'string' ? itemNode : undefined,\n        onClose: createChainedFunction(handleRemoveItemByTag.bind(null, tag), onClose)\n      }), itemNode);\n    }).filter(function (item) {\n      return item !== null;\n    });\n    if ((tags.length > 0 || isControlled) && isFunction(renderValue)) {\n      return renderValue(value, items, tagElements);\n    }\n    return tagElements;\n  };\n  var renderPopup = function renderPopup(positionProps, speakerRef) {\n    var left = positionProps.left,\n      top = positionProps.top,\n      className = positionProps.className;\n    var menuClassPrefix = multi ? 'picker-check-menu' : 'picker-select-menu';\n    var classes = merge(className, menuClassName, prefix(multi ? 'check-menu' : 'select-menu'));\n    var styles = _extends({}, menuStyle, {\n      left: left,\n      top: top\n    });\n    var items = filterNodesOfTree(getAllData(), checkShouldDisplay);\n    if (creatable && (typeof shouldDisplayCreateOption === 'function' ? shouldDisplayCreateOption(searchKeyword, items) : searchKeyword && !items.find(function (item) {\n      return item[valueKey] === searchKeyword;\n    }))) {\n      items = [].concat(items, [createOption(searchKeyword)]);\n    }\n\n    // Create a tree structure data when set `groupBy`\n    if (groupBy) {\n      items = getDataGroupBy(items, groupBy, sort);\n    } else if (typeof sort === 'function') {\n      items = items.sort(sort(false));\n    }\n    if (disabledOptions) {\n      return /*#__PURE__*/React.createElement(PickerPopup, {\n        ref: mergeRefs(overlay, speakerRef)\n      });\n    }\n    var menu = items.length ? /*#__PURE__*/React.createElement(Listbox, {\n      listProps: listProps,\n      listRef: list,\n      disabledItemValues: disabledItemValues,\n      valueKey: valueKey,\n      labelKey: labelKey,\n      classPrefix: menuClassPrefix,\n      listItemClassPrefix: multi ? undefined : menuClassPrefix + \"-item\",\n      listItemAs: multi ? ListCheckItem : ListItem,\n      listItemProps: {\n        renderCheckbox: renderCheckbox\n      },\n      activeItemValues: multi ? value : [value],\n      focusItemValue: focusItemValue,\n      maxHeight: menuMaxHeight,\n      data: items\n      // FIXME-Doma\n      // `group` is redundant so long as `groupBy` exists\n      ,\n\n      group: !isUndefined(groupBy),\n      groupBy: groupBy,\n      onSelect: multi ? handleCheckTag : handleSelectItem // fixme don't use any\n      ,\n\n      renderMenuGroup: renderMenuGroup,\n      renderMenuItem: renderListItem,\n      virtualized: virtualized\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      className: prefix(_templateObject || (_templateObject = _taggedTemplateLiteralLoose([\"none\"])))\n    }, locale === null || locale === void 0 ? void 0 : locale.noResultsText);\n    return /*#__PURE__*/React.createElement(PickerPopup, {\n      ref: mergeRefs(overlay, speakerRef),\n      autoWidth: menuAutoWidth,\n      className: classes,\n      style: styles,\n      target: triggerRef,\n      onKeyDown: onPickerKeyDown\n    }, renderMenu ? renderMenu(menu) : menu, renderExtraFooter === null || renderExtraFooter === void 0 ? void 0 : renderExtraFooter());\n  };\n  var _checkValue = checkValue(),\n    isValid = _checkValue.isValid,\n    itemNode = _checkValue.itemNode;\n  var tagElements = renderMultiValue();\n\n  /**\n   * 1.Have a value and the value is valid.\n   * 2.Regardless of whether the value is valid, as long as renderValue is set, it is judged to have a value.\n   * 3.If renderValue returns null or undefined, hasValue is false.\n   */\n  var hasSingleValue = !isNil(value) && isFunction(renderValue) && !isNil(itemNode);\n  var hasMultiValue = isArray(value) && value.length > 0 && isFunction(renderValue) && !isNil(tagElements);\n  var hasValue = multi ? !!(tagElements !== null && tagElements !== void 0 && tagElements.length) || hasMultiValue : isValid || hasSingleValue;\n  var _usePickerClassName = usePickerClassName(_extends({}, props, {\n      classPrefix: classPrefix,\n      appearance: appearance,\n      hasValue: hasValue,\n      name: 'input',\n      cleanable: cleanable\n    })),\n    pickerClasses = _usePickerClassName[0],\n    usedClassNamePropKeys = _usePickerClassName[1];\n  var classes = merge(pickerClasses, (_merge = {}, _merge[prefix(_templateObject2 || (_templateObject2 = _taggedTemplateLiteralLoose([\"tag\"])))] = multi, _merge[prefix(_templateObject3 || (_templateObject3 = _taggedTemplateLiteralLoose([\"focused\"])))] = open, _merge[prefix(_templateObject4 || (_templateObject4 = _taggedTemplateLiteralLoose([\"disabled-options\"])))] = disabledOptions, _merge));\n  var searching = !!searchKeyword && open;\n  var editable = searchable && !disabled && !rest.loading;\n  var inputProps = multi ? {\n    inputStyle: {\n      maxWidth: maxWidth - 63\n    },\n    as: InputAutosize\n  } : {\n    as: 'input'\n  };\n  if (plaintext) {\n    var plaintextProps = {};\n\n    // When multiple selection, the tag is displayed in a stack layout.\n    if (multi && hasValue) {\n      plaintextProps.as = Stack;\n      plaintextProps.spacing = 6;\n      plaintextProps.wrap = true;\n      plaintextProps.childrenRenderMode = 'clone';\n    }\n    return /*#__PURE__*/React.createElement(Plaintext, _extends({\n      localeKey: \"notSelected\",\n      ref: target\n    }, plaintextProps), itemNode || (tagElements !== null && tagElements !== void 0 && tagElements.length ? tagElements : null) || placeholder);\n  }\n  var placeholderNode = placeholder || (disabledOptions ? null : locale === null || locale === void 0 ? void 0 : locale.placeholder);\n  return /*#__PURE__*/React.createElement(PickerToggleTrigger, {\n    id: id,\n    multiple: multi,\n    pickerProps: pick(props, pickTriggerPropKeys),\n    ref: triggerRef,\n    trigger: \"active\",\n    onEnter: createChainedFunction(handleEnter, onEnter),\n    onEntered: createChainedFunction(onEntered, onOpen),\n    onExit: createChainedFunction(handleExit, onExit),\n    onExited: createChainedFunction(handleExited, onExited),\n    speaker: renderPopup,\n    placement: placement\n  }, /*#__PURE__*/React.createElement(Component, {\n    className: classes,\n    style: style,\n    onClick: focusInput,\n    onKeyDown: onPickerKeyDown,\n    ref: root\n  }, /*#__PURE__*/React.createElement(PickerToggle, _extends({}, omit(rest, [].concat(omitTriggerPropKeys, usedClassNamePropKeys)), {\n    appearance: appearance,\n    readOnly: readOnly,\n    plaintext: plaintext,\n    ref: target,\n    as: toggleAs,\n    tabIndex: tabIndex,\n    onClean: handleClean,\n    cleanable: cleanable && !disabled,\n    hasValue: hasValue,\n    active: open,\n    disabled: disabled,\n    placement: placement,\n    inputValue: value,\n    focusItemValue: focusItemValue,\n    caret: !disabledOptions\n  }), searching || multi && hasValue ? null : itemNode || placeholderNode), /*#__PURE__*/React.createElement(TextBox, {\n    showTagList: hasValue && multi,\n    tags: tagElements,\n    editable: editable,\n    readOnly: readOnly,\n    disabled: disabled,\n    multiple: multi,\n    onBlur: onBlur,\n    onFocus: createChainedFunction(handleFocus, onFocus),\n    inputRef: inputRef,\n    onChange: handleSearch,\n    inputValue: open ? searchKeyword : '',\n    inputProps: inputProps\n  })));\n});\nInputPicker.displayName = 'InputPicker';\nInputPicker.propTypes = _extends({}, listPickerPropTypes, {\n  locale: PropTypes.any,\n  appearance: oneOf(['default', 'subtle']),\n  cacheData: PropTypes.array,\n  menuAutoWidth: PropTypes.bool,\n  menuMaxHeight: PropTypes.number,\n  searchable: PropTypes.bool,\n  creatable: PropTypes.bool,\n  groupBy: PropTypes.any,\n  sort: PropTypes.func,\n  renderMenu: PropTypes.func,\n  renderMenuItem: PropTypes.func,\n  renderMenuGroup: PropTypes.func,\n  onCreate: PropTypes.func,\n  onSelect: PropTypes.func,\n  onGroupTitleClick: PropTypes.func,\n  onSearch: PropTypes.func,\n  virtualized: PropTypes.bool,\n  searchBy: PropTypes.func\n});\nexport default InputPicker;","map":{"version":3,"names":["_taggedTemplateLiteralLoose","_extends","_objectWithoutPropertiesLoose","_templateObject","_templateObject2","_templateObject3","_templateObject4","React","useState","useRef","useEffect","useCallback","useContext","PropTypes","isUndefined","isNil","isFunction","remove","clone","isArray","omit","pick","getWidth","shallowEqual","filterNodesOfTree","Plaintext","createChainedFunction","tplTransform","useClassNames","useCustom","useControlled","useEventCallback","mergeRefs","isOneOf","KEY_VALUES","oneOf","getDataGroupBy","Listbox","ListItem","ListCheckItem","PickerToggle","PickerPopup","PickerToggleTrigger","useFocusItemValue","usePickerClassName","useSearch","usePickerRef","useToggleKeyDownEvent","pickTriggerPropKeys","omitTriggerPropKeys","listPickerPropTypes","Tag","InputAutosize","TextBox","InputPickerContext","Stack","convertSize","size","InputPicker","forwardRef","props","ref","_merge","_props$as","as","Component","_props$appearance","appearance","_props$cleanable","cleanable","_props$cacheData","cacheData","_props$classPrefix","classPrefix","_props$data","data","controlledData","disabled","readOnly","plaintext","defaultValue","_props$defaultOpen","defaultOpen","_props$disabledItemVa","disabledItemValues","overrideLocale","locale","toggleAs","style","_props$searchable","searchable","controlledOpen","open","placeholder","groupBy","menuClassName","menuStyle","_props$menuAutoWidth","menuAutoWidth","_props$menuMaxHeight","menuMaxHeight","creatable","shouldDisplayCreateOption","valueProp","value","_props$valueKey","valueKey","virtualized","_props$labelKey","labelKey","listProps","id","tabIndex","sort","renderMenu","renderExtraFooter","renderValue","renderMenuItem","renderMenuGroup","onEnter","onEntered","onExit","onExited","onChange","onClean","onCreate","onSearch","onSelect","onOpen","onClose","onBlur","onFocus","searchBy","_props$placement","placement","rest","_useContext","multi","tagProps","trigger","disabledOptions","onTagRemove","renderCheckbox","Error","inputRef","_usePickerRef","triggerRef","root","target","overlay","list","_useCustom","_useClassNames","prefix","merge","_useState","uncontrolledData","setData","_useState2","maxWidth","setMaxWidth","_useState3","newData","setNewData","_useState4","uncontrolledOpen","setOpen","getAllData","concat","getAllDataAndCache","_useControlled","setValue","isControlled","cloneValue","handleClose","_triggerRef$current","_target$current","_target$current$focus","current","close","focus","call","_useFocusItemValue","focusItemValue","setFocusItemValue","onKeyDown","handleSearchCallback","searchKeyword","filteredData","event","_filteredData$","_useSearch","callback","resetSearch","checkShouldDisplay","handleSearch","_controlledData$","_triggerRef$current2","_triggerRef$current3","_triggerRef$current3$","updatePosition","getDataItem","allData","activeItem","find","item","itemNode","isValid","getInput","_inputRef$current","input","focusInput","_getInput","blurInput","_getInput2","blur","createOption","_ref2","_ref","create","newItem","handleChange","handleRemoveItemByTag","tag","stopPropagation","val","itemVal","handleSelect","handleSelectItem","handleCheckTag","nextItemValue","checked","push","handleTagKeyPress","nativeEvent","isComposing","some","v","focusItem","handleMenuItemKeyPress","removeLastItem","tagName","pop","handleClean","events","onMenuPressBackspace","onMenuKeyDown","onMenuPressEnter","undefined","handleKeyPress","key","SPACE","preventDefault","COMMA","onPickerKeyDown","handleExited","handleFocus","_triggerRef$current4","handleEnter","handleExit","renderListItem","label","newLabel","createElement","checkValue","dataItem","renderMultiValue","_tagProps$closable","closable","tagRest","tags","items","tagElements","map","_getDataItem","role","title","bind","filter","length","renderPopup","positionProps","speakerRef","left","top","className","menuClassPrefix","classes","styles","menu","listRef","listItemClassPrefix","listItemAs","listItemProps","activeItemValues","maxHeight","group","noResultsText","autoWidth","_checkValue","hasSingleValue","hasMultiValue","hasValue","_usePickerClassName","name","pickerClasses","usedClassNamePropKeys","searching","editable","loading","inputProps","inputStyle","plaintextProps","spacing","wrap","childrenRenderMode","localeKey","placeholderNode","multiple","pickerProps","speaker","onClick","active","inputValue","caret","showTagList","displayName","propTypes","any","array","bool","number","func","onGroupTitleClick"],"sources":["C:/Users/nsuyk/Desktop/jet-soft-main/jet-soft/node_modules/rsuite/esm/InputPicker/InputPicker.js"],"sourcesContent":["'use client';\nimport _taggedTemplateLiteralLoose from \"@babel/runtime/helpers/esm/taggedTemplateLiteralLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4;\nimport React, { useState, useRef, useEffect, useCallback, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport isUndefined from 'lodash/isUndefined';\nimport isNil from 'lodash/isNil';\nimport isFunction from 'lodash/isFunction';\nimport remove from 'lodash/remove';\nimport clone from 'lodash/clone';\nimport isArray from 'lodash/isArray';\nimport omit from 'lodash/omit';\nimport pick from 'lodash/pick';\nimport getWidth from 'dom-lib/getWidth';\nimport shallowEqual from '../utils/shallowEqual';\nimport { filterNodesOfTree } from '../utils/treeUtils';\nimport Plaintext from '../internals/Plaintext';\nimport { createChainedFunction, tplTransform, useClassNames, useCustom, useControlled, useEventCallback, mergeRefs, isOneOf, KEY_VALUES } from '../utils';\nimport { oneOf } from '../internals/propTypes';\nimport { getDataGroupBy } from '../utils/getDataGroupBy';\nimport { Listbox, ListItem, ListCheckItem, PickerToggle, PickerPopup, PickerToggleTrigger, useFocusItemValue, usePickerClassName, useSearch, usePickerRef, useToggleKeyDownEvent, pickTriggerPropKeys, omitTriggerPropKeys, listPickerPropTypes } from '../internals/Picker';\nimport Tag from '../Tag';\nimport InputAutosize from './InputAutosize';\nimport TextBox from './TextBox';\nimport InputPickerContext from './InputPickerContext';\nimport Stack from '../Stack';\nvar convertSize = function convertSize(size) {\n  switch (size) {\n    case 'lg':\n      return 'lg';\n    case 'sm':\n    case 'xs':\n      return 'sm';\n    default:\n      return 'md';\n  }\n};\n/**\n * Single item selector with text box input.\n *\n * @see https://rsuitejs.com/components/input-picker\n */\nvar InputPicker = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _merge;\n  var _props$as = props.as,\n    Component = _props$as === void 0 ? 'div' : _props$as,\n    _props$appearance = props.appearance,\n    appearance = _props$appearance === void 0 ? 'default' : _props$appearance,\n    _props$cleanable = props.cleanable,\n    cleanable = _props$cleanable === void 0 ? true : _props$cleanable,\n    _props$cacheData = props.cacheData,\n    cacheData = _props$cacheData === void 0 ? [] : _props$cacheData,\n    _props$classPrefix = props.classPrefix,\n    classPrefix = _props$classPrefix === void 0 ? 'picker' : _props$classPrefix,\n    _props$data = props.data,\n    controlledData = _props$data === void 0 ? [] : _props$data,\n    disabled = props.disabled,\n    readOnly = props.readOnly,\n    plaintext = props.plaintext,\n    defaultValue = props.defaultValue,\n    _props$defaultOpen = props.defaultOpen,\n    defaultOpen = _props$defaultOpen === void 0 ? false : _props$defaultOpen,\n    _props$disabledItemVa = props.disabledItemValues,\n    disabledItemValues = _props$disabledItemVa === void 0 ? [] : _props$disabledItemVa,\n    overrideLocale = props.locale,\n    toggleAs = props.toggleAs,\n    style = props.style,\n    _props$searchable = props.searchable,\n    searchable = _props$searchable === void 0 ? true : _props$searchable,\n    controlledOpen = props.open,\n    placeholder = props.placeholder,\n    groupBy = props.groupBy,\n    menuClassName = props.menuClassName,\n    menuStyle = props.menuStyle,\n    _props$menuAutoWidth = props.menuAutoWidth,\n    menuAutoWidth = _props$menuAutoWidth === void 0 ? true : _props$menuAutoWidth,\n    _props$menuMaxHeight = props.menuMaxHeight,\n    menuMaxHeight = _props$menuMaxHeight === void 0 ? 320 : _props$menuMaxHeight,\n    creatable = props.creatable,\n    shouldDisplayCreateOption = props.shouldDisplayCreateOption,\n    valueProp = props.value,\n    _props$valueKey = props.valueKey,\n    valueKey = _props$valueKey === void 0 ? 'value' : _props$valueKey,\n    virtualized = props.virtualized,\n    _props$labelKey = props.labelKey,\n    labelKey = _props$labelKey === void 0 ? 'label' : _props$labelKey,\n    listProps = props.listProps,\n    id = props.id,\n    tabIndex = props.tabIndex,\n    sort = props.sort,\n    renderMenu = props.renderMenu,\n    renderExtraFooter = props.renderExtraFooter,\n    renderValue = props.renderValue,\n    renderMenuItem = props.renderMenuItem,\n    renderMenuGroup = props.renderMenuGroup,\n    onEnter = props.onEnter,\n    onEntered = props.onEntered,\n    onExit = props.onExit,\n    onExited = props.onExited,\n    onChange = props.onChange,\n    onClean = props.onClean,\n    onCreate = props.onCreate,\n    onSearch = props.onSearch,\n    onSelect = props.onSelect,\n    onOpen = props.onOpen,\n    onClose = props.onClose,\n    onBlur = props.onBlur,\n    onFocus = props.onFocus,\n    searchBy = props.searchBy,\n    _props$placement = props.placement,\n    placement = _props$placement === void 0 ? 'bottomStart' : _props$placement,\n    rest = _objectWithoutPropertiesLoose(props, [\"as\", \"appearance\", \"cleanable\", \"cacheData\", \"classPrefix\", \"data\", \"disabled\", \"readOnly\", \"plaintext\", \"defaultValue\", \"defaultOpen\", \"disabledItemValues\", \"locale\", \"toggleAs\", \"style\", \"searchable\", \"open\", \"placeholder\", \"groupBy\", \"menuClassName\", \"menuStyle\", \"menuAutoWidth\", \"menuMaxHeight\", \"creatable\", \"shouldDisplayCreateOption\", \"value\", \"valueKey\", \"virtualized\", \"labelKey\", \"listProps\", \"id\", \"tabIndex\", \"sort\", \"renderMenu\", \"renderExtraFooter\", \"renderValue\", \"renderMenuItem\", \"renderMenuGroup\", \"onEnter\", \"onEntered\", \"onExit\", \"onExited\", \"onChange\", \"onClean\", \"onCreate\", \"onSearch\", \"onSelect\", \"onOpen\", \"onClose\", \"onBlur\", \"onFocus\", \"searchBy\", \"placement\"]);\n  var _useContext = useContext(InputPickerContext),\n    multi = _useContext.multi,\n    tagProps = _useContext.tagProps,\n    trigger = _useContext.trigger,\n    disabledOptions = _useContext.disabledOptions,\n    onTagRemove = _useContext.onTagRemove,\n    renderCheckbox = _useContext.renderCheckbox;\n  if (groupBy === valueKey || groupBy === labelKey) {\n    throw Error('`groupBy` can not be equal to `valueKey` and `labelKey`');\n  }\n  var inputRef = useRef();\n  var _usePickerRef = usePickerRef(ref),\n    triggerRef = _usePickerRef.trigger,\n    root = _usePickerRef.root,\n    target = _usePickerRef.target,\n    overlay = _usePickerRef.overlay,\n    list = _usePickerRef.list;\n  var _useCustom = useCustom(['Picker', 'InputPicker'], overrideLocale),\n    locale = _useCustom.locale;\n  var _useClassNames = useClassNames(classPrefix),\n    prefix = _useClassNames.prefix,\n    merge = _useClassNames.merge;\n  var _useState = useState(controlledData),\n    uncontrolledData = _useState[0],\n    setData = _useState[1];\n  var _useState2 = useState(100),\n    maxWidth = _useState2[0],\n    setMaxWidth = _useState2[1];\n  var _useState3 = useState([]),\n    newData = _useState3[0],\n    setNewData = _useState3[1];\n  var _useState4 = useState(defaultOpen),\n    uncontrolledOpen = _useState4[0],\n    setOpen = _useState4[1];\n  var open = isUndefined(controlledOpen) ? uncontrolledOpen : controlledOpen;\n  var getAllData = useCallback(function () {\n    return [].concat(uncontrolledData, newData);\n  }, [uncontrolledData, newData]);\n  var getAllDataAndCache = useCallback(function () {\n    return [].concat(getAllData(), cacheData);\n  }, [getAllData, cacheData]);\n  var _useControlled = useControlled(valueProp, multi ? defaultValue || [] : defaultValue),\n    value = _useControlled[0],\n    setValue = _useControlled[1],\n    isControlled = _useControlled[2];\n  var cloneValue = function cloneValue() {\n    return multi ? clone(value) || [] : value;\n  };\n  var handleClose = useEventCallback(function () {\n    var _triggerRef$current, _target$current, _target$current$focus;\n    triggerRef === null || triggerRef === void 0 ? void 0 : (_triggerRef$current = triggerRef.current) === null || _triggerRef$current === void 0 ? void 0 : _triggerRef$current.close();\n\n    // The focus is on the trigger button after closing\n    (_target$current = target.current) === null || _target$current === void 0 ? void 0 : (_target$current$focus = _target$current.focus) === null || _target$current$focus === void 0 ? void 0 : _target$current$focus.call(_target$current);\n  });\n\n  // Used to hover the focuse item  when trigger `onKeydown`\n  var _useFocusItemValue = useFocusItemValue(multi ? value === null || value === void 0 ? void 0 : value[0] : value, {\n      data: getAllDataAndCache(),\n      valueKey: valueKey,\n      target: function target() {\n        return overlay.current;\n      }\n    }),\n    focusItemValue = _useFocusItemValue.focusItemValue,\n    setFocusItemValue = _useFocusItemValue.setFocusItemValue,\n    onKeyDown = _useFocusItemValue.onKeyDown;\n  var handleSearchCallback = useEventCallback(function (searchKeyword, filteredData, event) {\n    var _filteredData$;\n    // The first option after filtering is the focus.\n    setFocusItemValue(disabledOptions ? searchKeyword : (filteredData === null || filteredData === void 0 ? void 0 : (_filteredData$ = filteredData[0]) === null || _filteredData$ === void 0 ? void 0 : _filteredData$[valueKey]) || searchKeyword);\n    onSearch === null || onSearch === void 0 ? void 0 : onSearch(searchKeyword, event);\n  });\n\n  // Use search keywords to filter options.\n  var _useSearch = useSearch(getAllData(), {\n      labelKey: labelKey,\n      searchBy: searchBy,\n      callback: handleSearchCallback\n    }),\n    searchKeyword = _useSearch.searchKeyword,\n    resetSearch = _useSearch.resetSearch,\n    checkShouldDisplay = _useSearch.checkShouldDisplay,\n    handleSearch = _useSearch.handleSearch; // Update the state when the data in props changes\n  useEffect(function () {\n    if (controlledData && !shallowEqual(controlledData, uncontrolledData)) {\n      var _controlledData$;\n      setData(controlledData);\n      setNewData([]);\n      setFocusItemValue(controlledData === null || controlledData === void 0 ? void 0 : (_controlledData$ = controlledData[0]) === null || _controlledData$ === void 0 ? void 0 : _controlledData$[valueKey]);\n    }\n  }, [setFocusItemValue, controlledData, uncontrolledData, valueKey]);\n  useEffect(function () {\n    var _triggerRef$current2;\n    // In multiple selection, you need to set a maximum width for the input.\n    if ((_triggerRef$current2 = triggerRef.current) !== null && _triggerRef$current2 !== void 0 && _triggerRef$current2.root) {\n      setMaxWidth(getWidth(triggerRef.current.root));\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // Update the position of the menu when the search keyword and value change\n  useEffect(function () {\n    var _triggerRef$current3, _triggerRef$current3$;\n    (_triggerRef$current3 = triggerRef.current) === null || _triggerRef$current3 === void 0 ? void 0 : (_triggerRef$current3$ = _triggerRef$current3.updatePosition) === null || _triggerRef$current3$ === void 0 ? void 0 : _triggerRef$current3$.call(_triggerRef$current3);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchKeyword, value]);\n  var getDataItem = function getDataItem(value) {\n    // Find active `MenuItem` by `value`\n    var allData = getAllDataAndCache();\n    var activeItem = allData.find(function (item) {\n      return shallowEqual(item[valueKey], value);\n    });\n    var itemNode = placeholder;\n    if (activeItem !== null && activeItem !== void 0 && activeItem[labelKey]) {\n      itemNode = activeItem === null || activeItem === void 0 ? void 0 : activeItem[labelKey];\n    }\n    return {\n      isValid: !!activeItem,\n      activeItem: activeItem,\n      itemNode: itemNode\n    };\n  };\n  var getInput = function getInput() {\n    var _inputRef$current;\n    return multi ? (_inputRef$current = inputRef.current) === null || _inputRef$current === void 0 ? void 0 : _inputRef$current.input : inputRef.current;\n  };\n  var focusInput = function focusInput() {\n    var _getInput;\n    return (_getInput = getInput()) === null || _getInput === void 0 ? void 0 : _getInput.focus();\n  };\n  var blurInput = function blurInput() {\n    var _getInput2;\n    return (_getInput2 = getInput()) === null || _getInput2 === void 0 ? void 0 : _getInput2.blur();\n  };\n\n  /**\n   * Convert the string of the newly created option into an object.\n   */\n  var createOption = function createOption(value) {\n    var _ref2;\n    if (groupBy) {\n      var _ref;\n      return _ref = {\n        create: true\n      }, _ref[groupBy] = locale === null || locale === void 0 ? void 0 : locale.newItem, _ref[valueKey] = value, _ref[labelKey] = value, _ref;\n    }\n    return _ref2 = {\n      create: true\n    }, _ref2[valueKey] = value, _ref2[labelKey] = value, _ref2;\n  };\n  var handleChange = useEventCallback(function (value, event) {\n    onChange === null || onChange === void 0 ? void 0 : onChange(value, event);\n  });\n  var handleRemoveItemByTag = useEventCallback(function (tag, event) {\n    event.stopPropagation();\n    var val = cloneValue();\n    remove(val, function (itemVal) {\n      return shallowEqual(itemVal, tag);\n    });\n    setValue(val);\n    handleChange(val, event);\n    onTagRemove === null || onTagRemove === void 0 ? void 0 : onTagRemove(tag, event);\n  });\n  var handleSelect = useEventCallback(function (value, item, event) {\n    onSelect === null || onSelect === void 0 ? void 0 : onSelect(value, item, event);\n    if (creatable && item.create) {\n      delete item.create;\n      onCreate === null || onCreate === void 0 ? void 0 : onCreate(value, item, event);\n      setNewData(newData.concat(item));\n    }\n  });\n\n  /**\n   * Callback triggered by single selection\n   * @param value\n   * @param item\n   * @param event\n   */\n  var handleSelectItem = useEventCallback(function (value, item, event) {\n    setValue(value);\n    setFocusItemValue(value);\n    resetSearch();\n    handleSelect(value, item, event);\n    handleChange(value, event);\n    handleClose();\n  });\n\n  /**\n   * Callback triggered by multiple selection\n   * @param nextItemValue\n   * @param item\n   * @param event\n   * @param checked\n   */\n  var handleCheckTag = useEventCallback(function (nextItemValue, item, event, checked) {\n    var val = cloneValue();\n    if (checked) {\n      val.push(nextItemValue);\n    } else {\n      remove(val, function (itemVal) {\n        return shallowEqual(itemVal, nextItemValue);\n      });\n    }\n    setValue(val);\n    resetSearch();\n    setFocusItemValue(nextItemValue);\n    handleSelect(val, item, event);\n    handleChange(val, event);\n    focusInput();\n  });\n  var handleTagKeyPress = useEventCallback(function (event) {\n    // When composing, ignore the keypress event.\n    if (event.nativeEvent.isComposing) {\n      return;\n    }\n    var val = cloneValue();\n    var data = getAllData();\n    if (!focusItemValue || !data) {\n      return;\n    }\n\n    // If the value is disabled in this option, it is returned.\n    if (disabledItemValues !== null && disabledItemValues !== void 0 && disabledItemValues.some(function (item) {\n      return item === focusItemValue;\n    })) {\n      return;\n    }\n    if (!val.some(function (v) {\n      return shallowEqual(v, focusItemValue);\n    })) {\n      val.push(focusItemValue);\n    } else if (!disabledOptions) {\n      remove(val, function (itemVal) {\n        return shallowEqual(itemVal, focusItemValue);\n      });\n    }\n    var focusItem = data.find(function (item) {\n      return shallowEqual(item === null || item === void 0 ? void 0 : item[valueKey], focusItemValue);\n    });\n    if (!focusItem) {\n      focusItem = createOption(focusItemValue);\n    }\n    setValue(val);\n    resetSearch();\n    handleSelect(val, focusItem, event);\n    handleChange(val, event);\n  });\n  var handleMenuItemKeyPress = useEventCallback(function (event) {\n    if (!focusItemValue || !controlledData) {\n      return;\n    }\n\n    // If the value is disabled in this option, it is returned.\n    if (disabledItemValues !== null && disabledItemValues !== void 0 && disabledItemValues.some(function (item) {\n      return item === focusItemValue;\n    })) {\n      return;\n    }\n\n    // Find active `MenuItem` by `value`\n    var allData = getAllData();\n    var focusItem = allData.find(function (item) {\n      return shallowEqual(item[valueKey], focusItemValue);\n    });\n\n    // FIXME Bad state flow\n    if (!focusItem && focusItemValue === searchKeyword) {\n      focusItem = createOption(searchKeyword);\n    }\n    setValue(focusItemValue);\n    resetSearch();\n    if (focusItem) {\n      handleSelect(focusItemValue, focusItem, event);\n    }\n    handleChange(focusItemValue, event);\n    handleClose();\n  });\n\n  /**\n   * Remove the last item, after pressing the back key on the keyboard.\n   * @param event\n   */\n  var removeLastItem = useEventCallback(function (event) {\n    var target = event === null || event === void 0 ? void 0 : event.target;\n    if ((target === null || target === void 0 ? void 0 : target.tagName) !== 'INPUT') {\n      focusInput();\n      return;\n    }\n    if ((target === null || target === void 0 ? void 0 : target.tagName) === 'INPUT' && target !== null && target !== void 0 && target.value) {\n      return;\n    }\n    var val = cloneValue();\n    val.pop();\n    setValue(val);\n    handleChange(val, event);\n  });\n  var handleClean = useEventCallback(function (event) {\n    if (disabled || searchKeyword !== '') {\n      return;\n    }\n    setValue(null);\n    setFocusItemValue(null);\n    resetSearch();\n    if (multi) {\n      handleChange([], event);\n    } else {\n      handleChange(null, event);\n    }\n    onClean === null || onClean === void 0 ? void 0 : onClean(event);\n  });\n  var events = {\n    onMenuPressBackspace: multi ? removeLastItem : handleClean,\n    onMenuKeyDown: onKeyDown,\n    onMenuPressEnter: undefined,\n    onKeyDown: undefined\n  };\n  var handleKeyPress = useEventCallback(function (event) {\n    // When typing a space, create a tag.\n    if (isOneOf('Space', trigger) && event.key === KEY_VALUES.SPACE) {\n      handleTagKeyPress(event);\n      event.preventDefault();\n    }\n\n    // When typing a comma, create a tag.\n    if (isOneOf('Comma', trigger) && event.key === KEY_VALUES.COMMA) {\n      handleTagKeyPress(event);\n      event.preventDefault();\n    }\n  });\n  if (multi) {\n    if (isOneOf('Enter', trigger)) {\n      events.onMenuPressEnter = handleTagKeyPress;\n    }\n    if (creatable) {\n      events.onKeyDown = handleKeyPress;\n    }\n  } else {\n    events.onMenuPressEnter = handleMenuItemKeyPress;\n  }\n  var onPickerKeyDown = useToggleKeyDownEvent(_extends({\n    trigger: triggerRef,\n    target: target,\n    overlay: overlay\n  }, events, rest));\n  var handleExited = useEventCallback(function () {\n    setFocusItemValue(multi ? value === null || value === void 0 ? void 0 : value[0] : value);\n    resetSearch();\n    onClose === null || onClose === void 0 ? void 0 : onClose();\n  });\n  var handleFocus = useEventCallback(function () {\n    if (!readOnly) {\n      var _triggerRef$current4;\n      setOpen(true);\n      (_triggerRef$current4 = triggerRef.current) === null || _triggerRef$current4 === void 0 ? void 0 : _triggerRef$current4.open();\n    }\n  });\n  var handleEnter = useEventCallback(function () {\n    focusInput();\n    setOpen(true);\n  });\n  var handleExit = useEventCallback(function () {\n    blurInput();\n    setOpen(false);\n  });\n  var renderListItem = function renderListItem(label, item) {\n    // 'Create option \"{0}\"' =>  Create option \"xxxxx\"\n    var newLabel = item.create ? /*#__PURE__*/React.createElement(\"span\", null, tplTransform(locale.createOption, label)) : label;\n    return renderMenuItem ? renderMenuItem(newLabel, item) : newLabel;\n  };\n  var checkValue = function checkValue() {\n    if (multi) {\n      return {\n        isValid: false,\n        itemNode: null\n      };\n    }\n    var dataItem = getDataItem(value);\n    var itemNode = dataItem.itemNode;\n    if (!isNil(value) && isFunction(renderValue)) {\n      itemNode = renderValue(value, dataItem.activeItem, itemNode);\n    }\n    return {\n      isValid: dataItem.isValid,\n      itemNode: itemNode\n    };\n  };\n  var renderMultiValue = function renderMultiValue() {\n    if (!multi) {\n      return null;\n    }\n    var _tagProps$closable = tagProps.closable,\n      closable = _tagProps$closable === void 0 ? true : _tagProps$closable,\n      onClose = tagProps.onClose,\n      tagRest = _objectWithoutPropertiesLoose(tagProps, [\"closable\", \"onClose\"]);\n    var tags = value || [];\n    var items = [];\n    var tagElements = tags.map(function (tag) {\n      var _getDataItem = getDataItem(tag),\n        isValid = _getDataItem.isValid,\n        itemNode = _getDataItem.itemNode,\n        activeItem = _getDataItem.activeItem;\n      items.push(activeItem);\n      if (!isValid) {\n        return null;\n      }\n      return /*#__PURE__*/React.createElement(Tag, _extends({\n        role: \"option\"\n      }, tagRest, {\n        key: tag,\n        size: convertSize(rest.size),\n        closable: !disabled && closable && !readOnly && !plaintext,\n        title: typeof itemNode === 'string' ? itemNode : undefined,\n        onClose: createChainedFunction(handleRemoveItemByTag.bind(null, tag), onClose)\n      }), itemNode);\n    }).filter(function (item) {\n      return item !== null;\n    });\n    if ((tags.length > 0 || isControlled) && isFunction(renderValue)) {\n      return renderValue(value, items, tagElements);\n    }\n    return tagElements;\n  };\n  var renderPopup = function renderPopup(positionProps, speakerRef) {\n    var left = positionProps.left,\n      top = positionProps.top,\n      className = positionProps.className;\n    var menuClassPrefix = multi ? 'picker-check-menu' : 'picker-select-menu';\n    var classes = merge(className, menuClassName, prefix(multi ? 'check-menu' : 'select-menu'));\n    var styles = _extends({}, menuStyle, {\n      left: left,\n      top: top\n    });\n    var items = filterNodesOfTree(getAllData(), checkShouldDisplay);\n    if (creatable && (typeof shouldDisplayCreateOption === 'function' ? shouldDisplayCreateOption(searchKeyword, items) : searchKeyword && !items.find(function (item) {\n      return item[valueKey] === searchKeyword;\n    }))) {\n      items = [].concat(items, [createOption(searchKeyword)]);\n    }\n\n    // Create a tree structure data when set `groupBy`\n    if (groupBy) {\n      items = getDataGroupBy(items, groupBy, sort);\n    } else if (typeof sort === 'function') {\n      items = items.sort(sort(false));\n    }\n    if (disabledOptions) {\n      return /*#__PURE__*/React.createElement(PickerPopup, {\n        ref: mergeRefs(overlay, speakerRef)\n      });\n    }\n    var menu = items.length ? /*#__PURE__*/React.createElement(Listbox, {\n      listProps: listProps,\n      listRef: list,\n      disabledItemValues: disabledItemValues,\n      valueKey: valueKey,\n      labelKey: labelKey,\n      classPrefix: menuClassPrefix,\n      listItemClassPrefix: multi ? undefined : menuClassPrefix + \"-item\",\n      listItemAs: multi ? ListCheckItem : ListItem,\n      listItemProps: {\n        renderCheckbox: renderCheckbox\n      },\n      activeItemValues: multi ? value : [value],\n      focusItemValue: focusItemValue,\n      maxHeight: menuMaxHeight,\n      data: items\n      // FIXME-Doma\n      // `group` is redundant so long as `groupBy` exists\n      ,\n      group: !isUndefined(groupBy),\n      groupBy: groupBy,\n      onSelect: multi ? handleCheckTag : handleSelectItem // fixme don't use any\n      ,\n      renderMenuGroup: renderMenuGroup,\n      renderMenuItem: renderListItem,\n      virtualized: virtualized\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      className: prefix(_templateObject || (_templateObject = _taggedTemplateLiteralLoose([\"none\"])))\n    }, locale === null || locale === void 0 ? void 0 : locale.noResultsText);\n    return /*#__PURE__*/React.createElement(PickerPopup, {\n      ref: mergeRefs(overlay, speakerRef),\n      autoWidth: menuAutoWidth,\n      className: classes,\n      style: styles,\n      target: triggerRef,\n      onKeyDown: onPickerKeyDown\n    }, renderMenu ? renderMenu(menu) : menu, renderExtraFooter === null || renderExtraFooter === void 0 ? void 0 : renderExtraFooter());\n  };\n  var _checkValue = checkValue(),\n    isValid = _checkValue.isValid,\n    itemNode = _checkValue.itemNode;\n  var tagElements = renderMultiValue();\n\n  /**\n   * 1.Have a value and the value is valid.\n   * 2.Regardless of whether the value is valid, as long as renderValue is set, it is judged to have a value.\n   * 3.If renderValue returns null or undefined, hasValue is false.\n   */\n  var hasSingleValue = !isNil(value) && isFunction(renderValue) && !isNil(itemNode);\n  var hasMultiValue = isArray(value) && value.length > 0 && isFunction(renderValue) && !isNil(tagElements);\n  var hasValue = multi ? !!(tagElements !== null && tagElements !== void 0 && tagElements.length) || hasMultiValue : isValid || hasSingleValue;\n  var _usePickerClassName = usePickerClassName(_extends({}, props, {\n      classPrefix: classPrefix,\n      appearance: appearance,\n      hasValue: hasValue,\n      name: 'input',\n      cleanable: cleanable\n    })),\n    pickerClasses = _usePickerClassName[0],\n    usedClassNamePropKeys = _usePickerClassName[1];\n  var classes = merge(pickerClasses, (_merge = {}, _merge[prefix(_templateObject2 || (_templateObject2 = _taggedTemplateLiteralLoose([\"tag\"])))] = multi, _merge[prefix(_templateObject3 || (_templateObject3 = _taggedTemplateLiteralLoose([\"focused\"])))] = open, _merge[prefix(_templateObject4 || (_templateObject4 = _taggedTemplateLiteralLoose([\"disabled-options\"])))] = disabledOptions, _merge));\n  var searching = !!searchKeyword && open;\n  var editable = searchable && !disabled && !rest.loading;\n  var inputProps = multi ? {\n    inputStyle: {\n      maxWidth: maxWidth - 63\n    },\n    as: InputAutosize\n  } : {\n    as: 'input'\n  };\n  if (plaintext) {\n    var plaintextProps = {};\n\n    // When multiple selection, the tag is displayed in a stack layout.\n    if (multi && hasValue) {\n      plaintextProps.as = Stack;\n      plaintextProps.spacing = 6;\n      plaintextProps.wrap = true;\n      plaintextProps.childrenRenderMode = 'clone';\n    }\n    return /*#__PURE__*/React.createElement(Plaintext, _extends({\n      localeKey: \"notSelected\",\n      ref: target\n    }, plaintextProps), itemNode || (tagElements !== null && tagElements !== void 0 && tagElements.length ? tagElements : null) || placeholder);\n  }\n  var placeholderNode = placeholder || (disabledOptions ? null : locale === null || locale === void 0 ? void 0 : locale.placeholder);\n  return /*#__PURE__*/React.createElement(PickerToggleTrigger, {\n    id: id,\n    multiple: multi,\n    pickerProps: pick(props, pickTriggerPropKeys),\n    ref: triggerRef,\n    trigger: \"active\",\n    onEnter: createChainedFunction(handleEnter, onEnter),\n    onEntered: createChainedFunction(onEntered, onOpen),\n    onExit: createChainedFunction(handleExit, onExit),\n    onExited: createChainedFunction(handleExited, onExited),\n    speaker: renderPopup,\n    placement: placement\n  }, /*#__PURE__*/React.createElement(Component, {\n    className: classes,\n    style: style,\n    onClick: focusInput,\n    onKeyDown: onPickerKeyDown,\n    ref: root\n  }, /*#__PURE__*/React.createElement(PickerToggle, _extends({}, omit(rest, [].concat(omitTriggerPropKeys, usedClassNamePropKeys)), {\n    appearance: appearance,\n    readOnly: readOnly,\n    plaintext: plaintext,\n    ref: target,\n    as: toggleAs,\n    tabIndex: tabIndex,\n    onClean: handleClean,\n    cleanable: cleanable && !disabled,\n    hasValue: hasValue,\n    active: open,\n    disabled: disabled,\n    placement: placement,\n    inputValue: value,\n    focusItemValue: focusItemValue,\n    caret: !disabledOptions\n  }), searching || multi && hasValue ? null : itemNode || placeholderNode), /*#__PURE__*/React.createElement(TextBox, {\n    showTagList: hasValue && multi,\n    tags: tagElements,\n    editable: editable,\n    readOnly: readOnly,\n    disabled: disabled,\n    multiple: multi,\n    onBlur: onBlur,\n    onFocus: createChainedFunction(handleFocus, onFocus),\n    inputRef: inputRef,\n    onChange: handleSearch,\n    inputValue: open ? searchKeyword : '',\n    inputProps: inputProps\n  })));\n});\nInputPicker.displayName = 'InputPicker';\nInputPicker.propTypes = _extends({}, listPickerPropTypes, {\n  locale: PropTypes.any,\n  appearance: oneOf(['default', 'subtle']),\n  cacheData: PropTypes.array,\n  menuAutoWidth: PropTypes.bool,\n  menuMaxHeight: PropTypes.number,\n  searchable: PropTypes.bool,\n  creatable: PropTypes.bool,\n  groupBy: PropTypes.any,\n  sort: PropTypes.func,\n  renderMenu: PropTypes.func,\n  renderMenuItem: PropTypes.func,\n  renderMenuGroup: PropTypes.func,\n  onCreate: PropTypes.func,\n  onSelect: PropTypes.func,\n  onGroupTitleClick: PropTypes.func,\n  onSearch: PropTypes.func,\n  virtualized: PropTypes.bool,\n  searchBy: PropTypes.func\n});\nexport default InputPicker;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}