{"ast":null,"code":"'use client';\n\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _isUndefined from \"lodash/isUndefined\";\nimport _cloneDeep from \"lodash/cloneDeep\";\nimport _omit from \"lodash/omit\";\nimport _isFunction from \"lodash/isFunction\";\nimport _pick from \"lodash/pick\";\nimport _isNil from \"lodash/isNil\";\nimport React, { useState, useEffect, useContext, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { List, AutoSizer } from '../internals/Windowing';\nimport CheckTreeNode from './CheckTreeNode';\nimport TreeContext from '../Tree/TreeContext';\nimport { getKeyParentMap, getPathTowardsItem, getTreeNodeIndent } from '../utils/treeUtils';\nimport { createChainedFunction, useCustom, useClassNames, useControlled, useEventCallback, KEY_VALUES, mergeRefs } from '../utils';\nimport { PickerToggle, TreeView, onMenuKeyDown as _onMenuKeyDown, PickerPopup, SelectedElement, PickerToggleTrigger, createConcatChildrenFunction, usePickerClassName, useToggleKeyDownEvent, usePickerRef, pickTriggerPropKeys, omitTriggerPropKeys, listPickerPropTypes } from '../internals/Picker';\nimport SearchBox from '../internals/SearchBox';\nimport { isEveryChildChecked, isSomeNodeHasChildren, isAllSiblingNodeUncheckable, isEveryFirstLevelNodeUncheckable, getFormattedTree, getDisabledState, getCheckTreePickerDefaultValue, getSelectedItems, isNodeUncheckable } from './utils';\nimport { hasVisibleChildren, getExpandWhenSearching, useTreeSearch, useTreeNodeRefs, getDefaultExpandItemValues, useFlattenTreeData, focusNextItem, getFocusableItems, focusPreviousItem, toggleExpand, getActiveItem, useGetTreeNodeChildren, focusToActiveTreeNode, focusTreeNode, leftArrowHandler, rightArrowHandler, isSearching } from '../utils/treeUtils';\nimport { oneOf } from '../internals/propTypes';\nvar emptyArray = [];\nvar itemSize = function itemSize() {\n  return 36;\n};\n\n/**\n * The `CheckTreePicker` component is used for selecting multiple options which are organized in a tree structure.\n *\n * @see https://rsuitejs.com/components/check-tree-picker\n */\nvar CheckTreePicker = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _props$as = props.as,\n    Component = _props$as === void 0 ? 'div' : _props$as,\n    _props$data = props.data,\n    data = _props$data === void 0 ? emptyArray : _props$data,\n    style = props.style,\n    _props$appearance = props.appearance,\n    appearance = _props$appearance === void 0 ? 'default' : _props$appearance,\n    _props$cleanable = props.cleanable,\n    cleanable = _props$cleanable === void 0 ? true : _props$cleanable,\n    _props$countable = props.countable,\n    countable = _props$countable === void 0 ? true : _props$countable,\n    searchBy = props.searchBy,\n    toggleAs = props.toggleAs,\n    searchKeyword = props.searchKeyword,\n    showIndentLine = props.showIndentLine,\n    overrideLocale = props.locale,\n    _props$cascade = props.cascade,\n    cascade = _props$cascade === void 0 ? true : _props$cascade,\n    disabled = props.disabled,\n    _props$valueKey = props.valueKey,\n    valueKey = _props$valueKey === void 0 ? 'value' : _props$valueKey,\n    _props$labelKey = props.labelKey,\n    labelKey = _props$labelKey === void 0 ? 'label' : _props$labelKey,\n    _props$placement = props.placement,\n    placement = _props$placement === void 0 ? 'bottomStart' : _props$placement,\n    _props$childrenKey = props.childrenKey,\n    childrenKey = _props$childrenKey === void 0 ? 'children' : _props$childrenKey,\n    placeholder = props.placeholder,\n    controlledValue = props.value,\n    _props$defaultValue = props.defaultValue,\n    defaultValue = _props$defaultValue === void 0 ? emptyArray : _props$defaultValue,\n    _props$defaultExpandA = props.defaultExpandAll,\n    defaultExpandAll = _props$defaultExpandA === void 0 ? false : _props$defaultExpandA,\n    _props$disabledItemVa = props.disabledItemValues,\n    disabledItemValues = _props$disabledItemVa === void 0 ? emptyArray : _props$disabledItemVa,\n    controlledExpandItemValues = props.expandItemValues,\n    _props$defaultExpandI = props.defaultExpandItemValues,\n    defaultExpandItemValues = _props$defaultExpandI === void 0 ? emptyArray : _props$defaultExpandI,\n    _props$height = props.height,\n    height = _props$height === void 0 ? 360 : _props$height,\n    _props$menuMaxHeight = props.menuMaxHeight,\n    menuMaxHeight = _props$menuMaxHeight === void 0 ? 320 : _props$menuMaxHeight,\n    menuStyle = props.menuStyle,\n    _props$searchable = props.searchable,\n    searchable = _props$searchable === void 0 ? true : _props$searchable,\n    _props$virtualized = props.virtualized,\n    virtualized = _props$virtualized === void 0 ? false : _props$virtualized,\n    className = props.className,\n    _props$classPrefix = props.classPrefix,\n    classPrefix = _props$classPrefix === void 0 ? 'picker' : _props$classPrefix,\n    menuClassName = props.menuClassName,\n    _props$menuAutoWidth = props.menuAutoWidth,\n    menuAutoWidth = _props$menuAutoWidth === void 0 ? true : _props$menuAutoWidth,\n    _props$uncheckableIte = props.uncheckableItemValues,\n    uncheckableItemValues = _props$uncheckableIte === void 0 ? emptyArray : _props$uncheckableIte,\n    id = props.id,\n    listProps = props.listProps,\n    renderMenu = props.renderMenu,\n    getChildren = props.getChildren,\n    renderExtraFooter = props.renderExtraFooter,\n    onEntered = props.onEntered,\n    onChange = props.onChange,\n    onClean = props.onClean,\n    onClose = props.onClose,\n    onExited = props.onExited,\n    onSearch = props.onSearch,\n    onSelect = props.onSelect,\n    onSelectItem = props.onSelectItem,\n    onOpen = props.onOpen,\n    onScroll = props.onScroll,\n    onExpand = props.onExpand,\n    renderValue = props.renderValue,\n    renderTreeIcon = props.renderTreeIcon,\n    renderTreeNode = props.renderTreeNode,\n    rest = _objectWithoutPropertiesLoose(props, [\"as\", \"data\", \"style\", \"appearance\", \"cleanable\", \"countable\", \"searchBy\", \"toggleAs\", \"searchKeyword\", \"showIndentLine\", \"locale\", \"cascade\", \"disabled\", \"valueKey\", \"labelKey\", \"placement\", \"childrenKey\", \"placeholder\", \"value\", \"defaultValue\", \"defaultExpandAll\", \"disabledItemValues\", \"expandItemValues\", \"defaultExpandItemValues\", \"height\", \"menuMaxHeight\", \"menuStyle\", \"searchable\", \"virtualized\", \"className\", \"classPrefix\", \"menuClassName\", \"menuAutoWidth\", \"uncheckableItemValues\", \"id\", \"listProps\", \"renderMenu\", \"getChildren\", \"renderExtraFooter\", \"onEntered\", \"onChange\", \"onClean\", \"onClose\", \"onExited\", \"onSearch\", \"onSelect\", \"onSelectItem\", \"onOpen\", \"onScroll\", \"onExpand\", \"renderValue\", \"renderTreeIcon\", \"renderTreeNode\"]);\n  var _useContext = useContext(TreeContext),\n    inline = _useContext.inline;\n  var _usePickerRef = usePickerRef(ref, {\n      inline: inline\n    }),\n    trigger = _usePickerRef.trigger,\n    root = _usePickerRef.root,\n    target = _usePickerRef.target,\n    overlay = _usePickerRef.overlay,\n    list = _usePickerRef.list,\n    searchInput = _usePickerRef.searchInput,\n    treeView = _usePickerRef.treeView;\n  var _useCustom = useCustom('Picker', overrideLocale),\n    rtl = _useCustom.rtl,\n    locale = _useCustom.locale;\n  var _useState = useState(false),\n    active = _useState[0],\n    setActive = _useState[1];\n  var _useState2 = useState(null),\n    activeNode = _useState2[0],\n    setActiveNode = _useState2[1];\n  var _useClassNames = useClassNames(classPrefix),\n    prefix = _useClassNames.prefix,\n    merge = _useClassNames.merge;\n  var _useClassNames2 = useClassNames(inline && classPrefix !== 'picker' ? classPrefix : 'check-tree'),\n    checkTreePrefix = _useClassNames2.prefix,\n    withCheckTreeClassPrefix = _useClassNames2.withClassPrefix;\n  var _useControlled = useControlled(controlledValue, defaultValue),\n    value = _useControlled[0],\n    setValue = _useControlled[1],\n    isControlled = _useControlled[2];\n  var _useGetTreeNodeChildr = useGetTreeNodeChildren(data, valueKey, childrenKey),\n    treeData = _useGetTreeNodeChildr.data,\n    setTreeData = _useGetTreeNodeChildr.setData,\n    loadingNodeValues = _useGetTreeNodeChildr.loadingNodeValues,\n    loadChildren = _useGetTreeNodeChildr.loadChildren;\n  var _useControlled2 = useControlled(controlledExpandItemValues, getDefaultExpandItemValues(treeData, {\n      defaultExpandAll: defaultExpandAll,\n      valueKey: valueKey,\n      childrenKey: childrenKey,\n      defaultExpandItemValues: defaultExpandItemValues\n    })),\n    expandItemValues = _useControlled2[0],\n    setExpandItemValues = _useControlled2[1];\n  var _useState3 = useState(null),\n    focusItemValue = _useState3[0],\n    setFocusItemValue = _useState3[1];\n  var _useFlattenTreeData = useFlattenTreeData({\n      data: treeData,\n      labelKey: labelKey,\n      valueKey: valueKey,\n      childrenKey: childrenKey,\n      uncheckableItemValues: uncheckableItemValues,\n      callback: function callback(nodes) {\n        // after flattenData, always unSerialize check property value\n        unSerializeList({\n          nodes: nodes,\n          key: 'check',\n          value: value,\n          cascade: cascade,\n          uncheckableItemValues: uncheckableItemValues\n        });\n        forceUpdate();\n      }\n    }),\n    flattenNodes = _useFlattenTreeData.flattenNodes,\n    forceUpdate = _useFlattenTreeData.forceUpdate,\n    formatVirtualizedTreeData = _useFlattenTreeData.formatVirtualizedTreeData,\n    serializeListOnlyParent = _useFlattenTreeData.serializeListOnlyParent,\n    unSerializeList = _useFlattenTreeData.unSerializeList;\n  var _useTreeSearch = useTreeSearch({\n      labelKey: labelKey,\n      childrenKey: childrenKey,\n      searchKeyword: searchKeyword,\n      data: treeData,\n      searchBy: searchBy,\n      callback: function callback(searchKeyword, _filterData, event) {\n        onSearch === null || onSearch === void 0 ? void 0 : onSearch(searchKeyword, event);\n      }\n    }),\n    filteredData = _useTreeSearch.filteredData,\n    searchKeywordState = _useTreeSearch.searchKeywordState,\n    setSearchKeyword = _useTreeSearch.setSearchKeyword,\n    handleSearch = _useTreeSearch.handleSearch,\n    setFilteredData = _useTreeSearch.setFilteredData;\n  var _useTreeNodeRefs = useTreeNodeRefs(),\n    treeNodesRefs = _useTreeNodeRefs.treeNodesRefs,\n    saveTreeNodeRef = _useTreeNodeRefs.saveTreeNodeRef;\n  /**\n   * get formatted nodes for render tree\n   * @params render - renderNode function. only used when virtualized setting false\n   */\n  var getFormattedNodes = function getFormattedNodes(render) {\n    if (virtualized) {\n      return formatVirtualizedTreeData(flattenNodes, filteredData, expandItemValues, {\n        cascade: cascade,\n        searchKeyword: searchKeywordState\n      }).filter(function (item) {\n        return item.visible;\n      });\n    }\n    return getFormattedTree(flattenNodes, filteredData, {\n      childrenKey: childrenKey,\n      cascade: cascade\n    }).map(function (node) {\n      return render === null || render === void 0 ? void 0 : render(node, 1);\n    });\n  };\n  var getTreeNodeProps = function getTreeNodeProps(node, layer) {\n    return {\n      as: Component,\n      rtl: rtl,\n      value: node[valueKey],\n      label: node[labelKey],\n      layer: layer,\n      focus: focusItemValue === node[valueKey],\n      expand: node.expand,\n      visible: node.visible,\n      loading: loadingNodeValues.some(function (item) {\n        return item === node[valueKey];\n      }),\n      disabled: getDisabledState(flattenNodes, node, {\n        disabledItemValues: disabledItemValues,\n        valueKey: valueKey\n      }),\n      nodeData: node,\n      checkState: node.checkState,\n      uncheckable: isNodeUncheckable(node, {\n        uncheckableItemValues: uncheckableItemValues,\n        valueKey: valueKey\n      }),\n      allUncheckable: isAllSiblingNodeUncheckable(node, flattenNodes, uncheckableItemValues, valueKey),\n      onSelect: handleSelect,\n      onExpand: handleExpand,\n      renderTreeNode: renderTreeNode,\n      renderTreeIcon: renderTreeIcon\n    };\n  };\n  var focusActiveNode = function focusActiveNode() {\n    if (list.current) {\n      focusToActiveTreeNode({\n        list: list.current,\n        valueKey: valueKey,\n        selector: \".\" + checkTreePrefix('node-active'),\n        activeNode: activeNode,\n        virtualized: virtualized,\n        container: treeView.current,\n        formattedNodes: getFormattedNodes()\n      });\n    }\n  };\n  useEffect(function () {\n    setValue(getCheckTreePickerDefaultValue(value, uncheckableItemValues));\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(function () {\n    setFilteredData(data, searchKeywordState);\n    setTreeData(data);\n  }, [data, searchKeywordState, setFilteredData, setTreeData]);\n  useEffect(function () {\n    setFilteredData(treeData, searchKeywordState);\n  }, [treeData, searchKeywordState, setFilteredData]);\n  useEffect(function () {\n    if (Array.isArray(controlledExpandItemValues)) {\n      setExpandItemValues(controlledExpandItemValues);\n    }\n  }, [controlledExpandItemValues, setExpandItemValues]);\n  useEffect(function () {\n    setSearchKeyword(searchKeyword !== null && searchKeyword !== void 0 ? searchKeyword : '');\n  }, [searchKeyword, setSearchKeyword]);\n  useEffect(function () {\n    unSerializeList({\n      nodes: flattenNodes,\n      key: 'check',\n      value: value,\n      cascade: cascade,\n      uncheckableItemValues: uncheckableItemValues\n    });\n    forceUpdate();\n  }, [cascade, value, uncheckableItemValues, unSerializeList, flattenNodes, forceUpdate]);\n  var toggleUpChecked = useEventCallback(function (nodes, node, checked) {\n    var currentNode = node.refKey ? nodes[node.refKey] : null;\n    if (cascade && currentNode) {\n      if (!checked) {\n        currentNode.check = checked;\n        currentNode.checkAll = checked;\n      } else {\n        if (isEveryChildChecked(nodes, currentNode)) {\n          currentNode.check = true;\n          currentNode.checkAll = true;\n        } else {\n          currentNode.check = false;\n          currentNode.checkAll = false;\n        }\n      }\n      if (currentNode.parent) {\n        toggleUpChecked(nodes, currentNode.parent, checked);\n      }\n    }\n  });\n  var toggleDownChecked = useEventCallback(function (nodes, node, isChecked) {\n    var currentNode = node.refKey ? nodes[node.refKey] : null;\n    if (!currentNode) {\n      return;\n    }\n    currentNode.check = isChecked;\n    if (!currentNode[childrenKey] || !currentNode[childrenKey].length || !cascade) {\n      currentNode.checkAll = false;\n    } else {\n      currentNode.checkAll = isChecked;\n      currentNode[childrenKey].forEach(function (child) {\n        toggleDownChecked(nodes, child, isChecked);\n      });\n    }\n  });\n  var toggleChecked = useEventCallback(function (node, isChecked) {\n    var nodes = _cloneDeep(flattenNodes);\n    toggleDownChecked(nodes, node, isChecked);\n    node.parent && toggleUpChecked(nodes, node.parent, isChecked);\n    var values = serializeListOnlyParent(nodes, 'check');\n    // filter uncheckableItemValues\n    return values.filter(function (v) {\n      return !uncheckableItemValues.includes(v);\n    });\n  });\n\n  // TODO-Doma\n  // Replace `getKeyParentMap` with `getParentMap`\n  var itemParentMap = useMemo(function () {\n    return getKeyParentMap(data, function (node) {\n      return node[valueKey];\n    }, function (node) {\n      return node[childrenKey];\n    });\n  }, [childrenKey, data, valueKey]);\n  var handleSelect = useEventCallback(function (node, event) {\n    var currentNode = node.refKey ? flattenNodes[node.refKey] : null;\n    if (!node || !currentNode) {\n      return;\n    }\n    var selectedValues = toggleChecked(node, !currentNode.check);\n    if (!isControlled) {\n      unSerializeList({\n        nodes: flattenNodes,\n        key: 'check',\n        value: selectedValues,\n        cascade: cascade,\n        uncheckableItemValues: uncheckableItemValues\n      });\n      setValue(selectedValues);\n    }\n    setActiveNode(node);\n    setFocusItemValue(node[valueKey]);\n    onChange === null || onChange === void 0 ? void 0 : onChange(selectedValues, event);\n    onSelect === null || onSelect === void 0 ? void 0 : onSelect(node, selectedValues, event);\n    onSelectItem === null || onSelectItem === void 0 ? void 0 : onSelectItem(node, getPathTowardsItem(node, function (item) {\n      return itemParentMap.get(item[valueKey]);\n    }));\n  });\n  var handleOpen = useEventCallback(function () {\n    var _trigger$current, _trigger$current$open;\n    (_trigger$current = trigger.current) === null || _trigger$current === void 0 ? void 0 : (_trigger$current$open = _trigger$current.open) === null || _trigger$current$open === void 0 ? void 0 : _trigger$current$open.call(_trigger$current);\n    setFocusItemValue(activeNode === null || activeNode === void 0 ? void 0 : activeNode[valueKey]);\n    focusActiveNode();\n    onOpen === null || onOpen === void 0 ? void 0 : onOpen();\n    setActive(true);\n  });\n  var handleClose = useEventCallback(function () {\n    var _trigger$current2, _trigger$current2$clo, _target$current;\n    (_trigger$current2 = trigger.current) === null || _trigger$current2 === void 0 ? void 0 : (_trigger$current2$clo = _trigger$current2.close) === null || _trigger$current2$clo === void 0 ? void 0 : _trigger$current2$clo.call(_trigger$current2);\n    setSearchKeyword('');\n    onClose === null || onClose === void 0 ? void 0 : onClose();\n    setFocusItemValue(null);\n    setActive(false);\n\n    /**\n     * when using keyboard toggle picker, should refocus on PickerToggle Component after close picker menu\n     */\n    (_target$current = target.current) === null || _target$current === void 0 ? void 0 : _target$current.focus();\n  });\n  var handleExpand = useEventCallback(function (node) {\n    var nextExpandItemValues = toggleExpand({\n      node: node,\n      isExpand: !node.expand,\n      expandItemValues: expandItemValues,\n      valueKey: valueKey\n    });\n    setExpandItemValues(nextExpandItemValues);\n    onExpand === null || onExpand === void 0 ? void 0 : onExpand(nextExpandItemValues, node, createConcatChildrenFunction(node, node[valueKey], {\n      valueKey: valueKey,\n      childrenKey: childrenKey\n    }));\n    if (_isFunction(getChildren) && !node.expand && Array.isArray(node[childrenKey]) && node[childrenKey].length === 0) {\n      loadChildren(node, getChildren);\n    }\n  });\n  var handleClean = useEventCallback(function (event) {\n    var target = event.target;\n    // exclude searchbox\n    if (target.matches('input[role=\"searchbox\"]') || disabled || !cleanable) {\n      return;\n    }\n    setActiveNode(null);\n    setFocusItemValue(null);\n    if (!isControlled) {\n      setValue([]);\n      unSerializeList({\n        nodes: flattenNodes,\n        key: 'check',\n        value: [],\n        cascade: cascade,\n        uncheckableItemValues: uncheckableItemValues\n      });\n    }\n    onChange === null || onChange === void 0 ? void 0 : onChange([], event);\n  });\n  var handleFocusItem = useEventCallback(function (key) {\n    var focusableItems = getFocusableItems(filteredData, {\n      disabledItemValues: disabledItemValues,\n      valueKey: valueKey,\n      childrenKey: childrenKey,\n      expandItemValues: expandItemValues\n    }, isSearching(searchKeywordState));\n    var selector = \".\" + checkTreePrefix('node-label');\n    var focusProps = {\n      focusItemValue: focusItemValue,\n      focusableItems: focusableItems,\n      treeNodesRefs: treeNodesRefs,\n      selector: selector,\n      valueKey: valueKey,\n      callback: function callback(nextFocusItemValue) {\n        setFocusItemValue(nextFocusItemValue);\n      }\n    };\n    if (key === KEY_VALUES.DOWN) {\n      focusNextItem(focusProps);\n      return;\n    }\n    if (key === KEY_VALUES.UP) {\n      focusPreviousItem(focusProps);\n    }\n  });\n  var handleLeftArrow = useEventCallback(function () {\n    if (_isNil(focusItemValue)) return;\n    var focusItem = getActiveItem(focusItemValue, flattenNodes, valueKey);\n    leftArrowHandler({\n      focusItem: focusItem,\n      expand: expandItemValues.includes(focusItem === null || focusItem === void 0 ? void 0 : focusItem[valueKey]),\n      onExpand: handleExpand,\n      childrenKey: childrenKey,\n      onFocusItem: function onFocusItem() {\n        var _focusItem$parent, _focusItem$parent2;\n        setFocusItemValue(focusItem === null || focusItem === void 0 ? void 0 : (_focusItem$parent = focusItem.parent) === null || _focusItem$parent === void 0 ? void 0 : _focusItem$parent[valueKey]);\n        focusTreeNode(focusItem === null || focusItem === void 0 ? void 0 : (_focusItem$parent2 = focusItem.parent) === null || _focusItem$parent2 === void 0 ? void 0 : _focusItem$parent2.refKey, treeNodesRefs, \".\" + checkTreePrefix('node-label'));\n      }\n    });\n  });\n  var handleRightArrow = useEventCallback(function () {\n    if (_isNil(focusItemValue)) return;\n    var focusItem = getActiveItem(focusItemValue, flattenNodes, valueKey);\n    rightArrowHandler({\n      focusItem: focusItem,\n      expand: expandItemValues.includes(focusItem === null || focusItem === void 0 ? void 0 : focusItem[valueKey]),\n      childrenKey: childrenKey,\n      onExpand: handleExpand,\n      onFocusItem: function onFocusItem() {\n        handleFocusItem(KEY_VALUES.DOWN);\n      }\n    });\n  });\n  var selectActiveItem = function selectActiveItem(event) {\n    if (_isNil(focusItemValue)) return;\n    var activeItem = getActiveItem(focusItemValue, flattenNodes, valueKey);\n    if (!isNodeUncheckable(activeItem, {\n      uncheckableItemValues: uncheckableItemValues,\n      valueKey: valueKey\n    }) && activeItem !== null) {\n      handleSelect(activeItem, event);\n    }\n  };\n  var onPickerKeydown = useToggleKeyDownEvent(_extends({\n    toggle: !focusItemValue || !active,\n    trigger: trigger,\n    target: target,\n    overlay: overlay,\n    searchInput: searchInput,\n    active: active,\n    onExit: handleClean,\n    onClose: handleClose,\n    onMenuKeyDown: function onMenuKeyDown(event) {\n      _onMenuKeyDown(event, {\n        down: function down() {\n          return handleFocusItem(KEY_VALUES.DOWN);\n        },\n        up: function up() {\n          return handleFocusItem(KEY_VALUES.UP);\n        },\n        left: rtl ? handleRightArrow : handleLeftArrow,\n        right: rtl ? handleLeftArrow : handleRightArrow,\n        enter: selectActiveItem,\n        del: handleClean\n      });\n    }\n  }, rest));\n  var handleTreeKeydown = useEventCallback(function (event) {\n    if (!treeView.current) {\n      return;\n    }\n    _onMenuKeyDown(event, {\n      down: function down() {\n        return handleFocusItem(KEY_VALUES.DOWN);\n      },\n      up: function up() {\n        return handleFocusItem(KEY_VALUES.UP);\n      },\n      left: rtl ? handleRightArrow : handleLeftArrow,\n      right: rtl ? handleLeftArrow : handleRightArrow,\n      enter: selectActiveItem\n    });\n  });\n  var renderNode = function renderNode(node, layer) {\n    var visible = node.visible,\n      refKey = node.refKey; // when searching, all nodes should be expand\n    var expand = getExpandWhenSearching(searchKeywordState, expandItemValues.includes(node[valueKey]));\n    if (!visible) {\n      return null;\n    }\n    var children = node[childrenKey];\n    var visibleChildren = _isUndefined(searchKeywordState) || searchKeywordState.length === 0 ? !!children : hasVisibleChildren(node, childrenKey);\n    var nodeProps = _extends({}, getTreeNodeProps(_extends({}, node, {\n      /**\n       * spread operator don't copy unenumerable properties\n       * so we need to copy them manually\n       */\n      parent: node.parent,\n      expand: expand\n    }), layer), {\n      hasChildren: visibleChildren\n    });\n    if (nodeProps.hasChildren) {\n      var _merge;\n      layer += 1;\n      var openClass = checkTreePrefix('open');\n      var childrenClass = merge(checkTreePrefix('node-children'), (_merge = {}, _merge[openClass] = expand && visibleChildren, _merge));\n      var nodes = children || [];\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: childrenClass,\n        key: node[valueKey]\n      }, /*#__PURE__*/React.createElement(CheckTreeNode, _extends({}, nodeProps, {\n        ref: function ref(_ref) {\n          return saveTreeNodeRef(_ref, refKey);\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: checkTreePrefix('group'),\n        role: \"group\"\n      }, nodes.map(function (child) {\n        return renderNode(child, layer);\n      }), showIndentLine && /*#__PURE__*/React.createElement(\"span\", {\n        className: checkTreePrefix('indent-line'),\n        style: getTreeNodeIndent(rtl, layer - 1, true)\n      })));\n    }\n    return /*#__PURE__*/React.createElement(CheckTreeNode, _extends({\n      key: node[valueKey],\n      ref: function ref(_ref2) {\n        return saveTreeNodeRef(_ref2, refKey);\n      }\n    }, nodeProps));\n  };\n  var renderVirtualListNode = function renderVirtualListNode(_ref3) {\n    var index = _ref3.index,\n      style = _ref3.style,\n      data = _ref3.data;\n    var node = data[index];\n    var layer = node.layer,\n      refKey = node.refKey,\n      visible = node.visible;\n    var expand = getExpandWhenSearching(searchKeywordState, expandItemValues.includes(node[valueKey]));\n    var nodeProps = _extends({}, getTreeNodeProps(_extends({}, node, {\n      /**\n       * spread operator don't copy unenumerable properties\n       * so we need to copy them manually\n       */\n      parent: node.parent,\n      expand: expand\n    }), layer), {\n      hasChildren: node.hasChildren\n    });\n    return visible && /*#__PURE__*/React.createElement(CheckTreeNode, _extends({\n      style: style,\n      ref: function ref(_ref4) {\n        return saveTreeNodeRef(_ref4, refKey);\n      }\n    }, nodeProps));\n  };\n  var renderCheckTree = function renderCheckTree() {\n    var _merge2, _merge3;\n    var classes = merge(withCheckTreeClassPrefix({\n      'without-children': !isSomeNodeHasChildren(data, childrenKey),\n      virtualized: virtualized\n    }), (_merge2 = {}, _merge2[className !== null && className !== void 0 ? className : ''] = inline, _merge2));\n    var formattedNodes = getFormattedNodes(renderNode);\n    if (!formattedNodes.some(function (v) {\n      return v !== null;\n    })) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: prefix('none')\n      }, locale.noResultsText);\n    }\n    var treeNodesClass = merge(checkTreePrefix('root'), (_merge3 = {}, _merge3[checkTreePrefix('all-uncheckable')] = isEveryFirstLevelNodeUncheckable(flattenNodes, uncheckableItemValues, valueKey), _merge3));\n    var treeViewProps = {\n      ref: treeView\n    };\n    if (inline) {\n      treeViewProps = _extends({\n        ref: root,\n        style: _extends({\n          height: height\n        }, style)\n      }, rest);\n    }\n    return /*#__PURE__*/React.createElement(TreeView, _extends({}, treeViewProps, {\n      multiselectable: true,\n      treeRootClassName: treeNodesClass,\n      className: classes,\n      onScroll: onScroll,\n      onKeyDown: inline ? handleTreeKeydown : undefined\n    }), virtualized ? /*#__PURE__*/React.createElement(AutoSizer, {\n      defaultHeight: inline ? height : menuMaxHeight,\n      style: {\n        width: 'auto',\n        height: 'auto'\n      }\n    }, function (_ref5) {\n      var height = _ref5.height;\n      return /*#__PURE__*/React.createElement(List, _extends({\n        ref: list,\n        height: height,\n        itemSize: itemSize,\n        itemCount: formattedNodes.length,\n        itemData: formattedNodes\n      }, listProps), renderVirtualListNode);\n    }) : formattedNodes);\n  };\n  var renderDropdownMenu = function renderDropdownMenu(positionProps, speakerRef) {\n    var left = positionProps.left,\n      top = positionProps.top,\n      className = positionProps.className;\n    var classes = classNames(className, menuClassName, prefix('check-tree-menu'));\n    var mergedMenuStyle = _extends({}, menuStyle, {\n      left: left,\n      top: top\n    });\n    return /*#__PURE__*/React.createElement(PickerPopup, {\n      autoWidth: menuAutoWidth,\n      className: classes,\n      style: mergedMenuStyle,\n      ref: mergeRefs(overlay, speakerRef),\n      onKeyDown: onPickerKeydown,\n      target: trigger\n    }, searchable ? /*#__PURE__*/React.createElement(SearchBox, {\n      placeholder: locale.searchPlaceholder,\n      onChange: handleSearch,\n      value: searchKeywordState,\n      inputRef: searchInput\n    }) : null, renderMenu ? renderMenu(renderCheckTree()) : renderCheckTree(), renderExtraFooter === null || renderExtraFooter === void 0 ? void 0 : renderExtraFooter());\n  };\n  var selectedItems = useMemo(function () {\n    return getSelectedItems(flattenNodes, value);\n  }, [flattenNodes, value]);\n  /**\n   * 1.Have a value and the value is valid.\n   * 2.Regardless of whether the value is valid, as long as renderValue is set, it is judged to have a value.\n   */\n  var hasValidValue = selectedItems.length > 0 || value.length > 0 && _isFunction(renderValue);\n  var selectedElement = placeholder;\n  if (hasValidValue) {\n    selectedElement = /*#__PURE__*/React.createElement(SelectedElement, {\n      selectedItems: selectedItems,\n      countable: countable,\n      valueKey: valueKey,\n      labelKey: labelKey,\n      childrenKey: childrenKey,\n      prefix: prefix,\n      cascade: cascade,\n      locale: locale\n    });\n    if (_isFunction(renderValue)) {\n      selectedElement = renderValue(value, selectedItems, selectedElement);\n      if (_isNil(selectedElement)) {\n        hasValidValue = false;\n      }\n    }\n  }\n  var _usePickerClassName = usePickerClassName(_extends({}, props, {\n      classPrefix: classPrefix,\n      appearance: appearance,\n      countable: countable,\n      cleanable: cleanable,\n      disabled: disabled,\n      hasValue: hasValidValue,\n      name: 'check-tree'\n    })),\n    classes = _usePickerClassName[0],\n    usedClassNamePropKeys = _usePickerClassName[1];\n  if (inline) {\n    return renderCheckTree();\n  }\n  return /*#__PURE__*/React.createElement(PickerToggleTrigger, {\n    id: id,\n    popupType: \"tree\",\n    multiple: true,\n    pickerProps: _pick(props, pickTriggerPropKeys),\n    ref: trigger,\n    placement: placement,\n    onEnter: handleOpen,\n    onEntered: onEntered,\n    onExited: createChainedFunction(handleClose, onExited),\n    speaker: renderDropdownMenu\n  }, /*#__PURE__*/React.createElement(Component, {\n    className: classes,\n    style: style,\n    ref: root\n  }, /*#__PURE__*/React.createElement(PickerToggle, _extends({}, _omit(rest, [].concat(omitTriggerPropKeys, usedClassNamePropKeys)), {\n    ref: target,\n    appearance: appearance,\n    onKeyDown: onPickerKeydown,\n    onClean: createChainedFunction(handleClean, onClean),\n    cleanable: cleanable && !disabled,\n    disabled: disabled,\n    as: toggleAs,\n    hasValue: hasValidValue,\n    active: active,\n    placement: placement,\n    inputValue: value,\n    focusItemValue: focusItemValue\n  }), selectedElement || locale.placeholder)));\n});\nCheckTreePicker.displayName = 'CheckTreePicker';\nCheckTreePicker.propTypes = _extends({}, listPickerPropTypes, {\n  height: PropTypes.number,\n  appearance: oneOf(['default', 'subtle']),\n  locale: PropTypes.any,\n  cascade: PropTypes.bool,\n  countable: PropTypes.bool,\n  searchable: PropTypes.bool,\n  virtualized: PropTypes.bool,\n  searchKeyword: PropTypes.string,\n  menuAutoWidth: PropTypes.bool,\n  defaultExpandAll: PropTypes.bool,\n  containerPadding: PropTypes.number,\n  disabledItemValues: PropTypes.array,\n  expandItemValues: PropTypes.array,\n  defaultExpandItemValues: PropTypes.array,\n  uncheckableItemValues: PropTypes.array,\n  onSearch: PropTypes.func,\n  onExpand: PropTypes.func,\n  onSelect: PropTypes.func,\n  renderMenu: PropTypes.func,\n  renderTreeNode: PropTypes.func,\n  renderTreeIcon: PropTypes.func,\n  searchBy: PropTypes.func,\n  onScroll: PropTypes.func\n});\nexport default CheckTreePicker;","map":{"version":3,"names":["_extends","_objectWithoutPropertiesLoose","_isUndefined","_cloneDeep","_omit","_isFunction","_pick","_isNil","React","useState","useEffect","useContext","useMemo","PropTypes","classNames","List","AutoSizer","CheckTreeNode","TreeContext","getKeyParentMap","getPathTowardsItem","getTreeNodeIndent","createChainedFunction","useCustom","useClassNames","useControlled","useEventCallback","KEY_VALUES","mergeRefs","PickerToggle","TreeView","onMenuKeyDown","_onMenuKeyDown","PickerPopup","SelectedElement","PickerToggleTrigger","createConcatChildrenFunction","usePickerClassName","useToggleKeyDownEvent","usePickerRef","pickTriggerPropKeys","omitTriggerPropKeys","listPickerPropTypes","SearchBox","isEveryChildChecked","isSomeNodeHasChildren","isAllSiblingNodeUncheckable","isEveryFirstLevelNodeUncheckable","getFormattedTree","getDisabledState","getCheckTreePickerDefaultValue","getSelectedItems","isNodeUncheckable","hasVisibleChildren","getExpandWhenSearching","useTreeSearch","useTreeNodeRefs","getDefaultExpandItemValues","useFlattenTreeData","focusNextItem","getFocusableItems","focusPreviousItem","toggleExpand","getActiveItem","useGetTreeNodeChildren","focusToActiveTreeNode","focusTreeNode","leftArrowHandler","rightArrowHandler","isSearching","oneOf","emptyArray","itemSize","CheckTreePicker","forwardRef","props","ref","_props$as","as","Component","_props$data","data","style","_props$appearance","appearance","_props$cleanable","cleanable","_props$countable","countable","searchBy","toggleAs","searchKeyword","showIndentLine","overrideLocale","locale","_props$cascade","cascade","disabled","_props$valueKey","valueKey","_props$labelKey","labelKey","_props$placement","placement","_props$childrenKey","childrenKey","placeholder","controlledValue","value","_props$defaultValue","defaultValue","_props$defaultExpandA","defaultExpandAll","_props$disabledItemVa","disabledItemValues","controlledExpandItemValues","expandItemValues","_props$defaultExpandI","defaultExpandItemValues","_props$height","height","_props$menuMaxHeight","menuMaxHeight","menuStyle","_props$searchable","searchable","_props$virtualized","virtualized","className","_props$classPrefix","classPrefix","menuClassName","_props$menuAutoWidth","menuAutoWidth","_props$uncheckableIte","uncheckableItemValues","id","listProps","renderMenu","getChildren","renderExtraFooter","onEntered","onChange","onClean","onClose","onExited","onSearch","onSelect","onSelectItem","onOpen","onScroll","onExpand","renderValue","renderTreeIcon","renderTreeNode","rest","_useContext","inline","_usePickerRef","trigger","root","target","overlay","list","searchInput","treeView","_useCustom","rtl","_useState","active","setActive","_useState2","activeNode","setActiveNode","_useClassNames","prefix","merge","_useClassNames2","checkTreePrefix","withCheckTreeClassPrefix","withClassPrefix","_useControlled","setValue","isControlled","_useGetTreeNodeChildr","treeData","setTreeData","setData","loadingNodeValues","loadChildren","_useControlled2","setExpandItemValues","_useState3","focusItemValue","setFocusItemValue","_useFlattenTreeData","callback","nodes","unSerializeList","key","forceUpdate","flattenNodes","formatVirtualizedTreeData","serializeListOnlyParent","_useTreeSearch","_filterData","event","filteredData","searchKeywordState","setSearchKeyword","handleSearch","setFilteredData","_useTreeNodeRefs","treeNodesRefs","saveTreeNodeRef","getFormattedNodes","render","filter","item","visible","map","node","getTreeNodeProps","layer","label","focus","expand","loading","some","nodeData","checkState","uncheckable","allUncheckable","handleSelect","handleExpand","focusActiveNode","current","selector","container","formattedNodes","Array","isArray","toggleUpChecked","checked","currentNode","refKey","check","checkAll","parent","toggleDownChecked","isChecked","length","forEach","child","toggleChecked","values","v","includes","itemParentMap","selectedValues","get","handleOpen","_trigger$current","_trigger$current$open","open","call","handleClose","_trigger$current2","_trigger$current2$clo","_target$current","close","nextExpandItemValues","isExpand","handleClean","matches","handleFocusItem","focusableItems","focusProps","nextFocusItemValue","DOWN","UP","handleLeftArrow","focusItem","onFocusItem","_focusItem$parent","_focusItem$parent2","handleRightArrow","selectActiveItem","activeItem","onPickerKeydown","toggle","onExit","down","up","left","right","enter","del","handleTreeKeydown","renderNode","children","visibleChildren","nodeProps","hasChildren","_merge","openClass","childrenClass","createElement","_ref","role","_ref2","renderVirtualListNode","_ref3","index","_ref4","renderCheckTree","_merge2","_merge3","classes","noResultsText","treeNodesClass","treeViewProps","multiselectable","treeRootClassName","onKeyDown","undefined","defaultHeight","width","_ref5","itemCount","itemData","renderDropdownMenu","positionProps","speakerRef","top","mergedMenuStyle","autoWidth","searchPlaceholder","inputRef","selectedItems","hasValidValue","selectedElement","_usePickerClassName","hasValue","name","usedClassNamePropKeys","popupType","multiple","pickerProps","onEnter","speaker","concat","inputValue","displayName","propTypes","number","any","bool","string","containerPadding","array","func"],"sources":["C:/Users/nsuyk/Desktop/jet-soft-main/jet-soft/node_modules/rsuite/esm/CheckTreePicker/CheckTreePicker.js"],"sourcesContent":["'use client';\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _isUndefined from \"lodash/isUndefined\";\nimport _cloneDeep from \"lodash/cloneDeep\";\nimport _omit from \"lodash/omit\";\nimport _isFunction from \"lodash/isFunction\";\nimport _pick from \"lodash/pick\";\nimport _isNil from \"lodash/isNil\";\nimport React, { useState, useEffect, useContext, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { List, AutoSizer } from '../internals/Windowing';\nimport CheckTreeNode from './CheckTreeNode';\nimport TreeContext from '../Tree/TreeContext';\nimport { getKeyParentMap, getPathTowardsItem, getTreeNodeIndent } from '../utils/treeUtils';\nimport { createChainedFunction, useCustom, useClassNames, useControlled, useEventCallback, KEY_VALUES, mergeRefs } from '../utils';\nimport { PickerToggle, TreeView, onMenuKeyDown as _onMenuKeyDown, PickerPopup, SelectedElement, PickerToggleTrigger, createConcatChildrenFunction, usePickerClassName, useToggleKeyDownEvent, usePickerRef, pickTriggerPropKeys, omitTriggerPropKeys, listPickerPropTypes } from '../internals/Picker';\nimport SearchBox from '../internals/SearchBox';\nimport { isEveryChildChecked, isSomeNodeHasChildren, isAllSiblingNodeUncheckable, isEveryFirstLevelNodeUncheckable, getFormattedTree, getDisabledState, getCheckTreePickerDefaultValue, getSelectedItems, isNodeUncheckable } from './utils';\nimport { hasVisibleChildren, getExpandWhenSearching, useTreeSearch, useTreeNodeRefs, getDefaultExpandItemValues, useFlattenTreeData, focusNextItem, getFocusableItems, focusPreviousItem, toggleExpand, getActiveItem, useGetTreeNodeChildren, focusToActiveTreeNode, focusTreeNode, leftArrowHandler, rightArrowHandler, isSearching } from '../utils/treeUtils';\nimport { oneOf } from '../internals/propTypes';\nvar emptyArray = [];\nvar itemSize = function itemSize() {\n  return 36;\n};\n\n/**\n * The `CheckTreePicker` component is used for selecting multiple options which are organized in a tree structure.\n *\n * @see https://rsuitejs.com/components/check-tree-picker\n */\nvar CheckTreePicker = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _props$as = props.as,\n    Component = _props$as === void 0 ? 'div' : _props$as,\n    _props$data = props.data,\n    data = _props$data === void 0 ? emptyArray : _props$data,\n    style = props.style,\n    _props$appearance = props.appearance,\n    appearance = _props$appearance === void 0 ? 'default' : _props$appearance,\n    _props$cleanable = props.cleanable,\n    cleanable = _props$cleanable === void 0 ? true : _props$cleanable,\n    _props$countable = props.countable,\n    countable = _props$countable === void 0 ? true : _props$countable,\n    searchBy = props.searchBy,\n    toggleAs = props.toggleAs,\n    searchKeyword = props.searchKeyword,\n    showIndentLine = props.showIndentLine,\n    overrideLocale = props.locale,\n    _props$cascade = props.cascade,\n    cascade = _props$cascade === void 0 ? true : _props$cascade,\n    disabled = props.disabled,\n    _props$valueKey = props.valueKey,\n    valueKey = _props$valueKey === void 0 ? 'value' : _props$valueKey,\n    _props$labelKey = props.labelKey,\n    labelKey = _props$labelKey === void 0 ? 'label' : _props$labelKey,\n    _props$placement = props.placement,\n    placement = _props$placement === void 0 ? 'bottomStart' : _props$placement,\n    _props$childrenKey = props.childrenKey,\n    childrenKey = _props$childrenKey === void 0 ? 'children' : _props$childrenKey,\n    placeholder = props.placeholder,\n    controlledValue = props.value,\n    _props$defaultValue = props.defaultValue,\n    defaultValue = _props$defaultValue === void 0 ? emptyArray : _props$defaultValue,\n    _props$defaultExpandA = props.defaultExpandAll,\n    defaultExpandAll = _props$defaultExpandA === void 0 ? false : _props$defaultExpandA,\n    _props$disabledItemVa = props.disabledItemValues,\n    disabledItemValues = _props$disabledItemVa === void 0 ? emptyArray : _props$disabledItemVa,\n    controlledExpandItemValues = props.expandItemValues,\n    _props$defaultExpandI = props.defaultExpandItemValues,\n    defaultExpandItemValues = _props$defaultExpandI === void 0 ? emptyArray : _props$defaultExpandI,\n    _props$height = props.height,\n    height = _props$height === void 0 ? 360 : _props$height,\n    _props$menuMaxHeight = props.menuMaxHeight,\n    menuMaxHeight = _props$menuMaxHeight === void 0 ? 320 : _props$menuMaxHeight,\n    menuStyle = props.menuStyle,\n    _props$searchable = props.searchable,\n    searchable = _props$searchable === void 0 ? true : _props$searchable,\n    _props$virtualized = props.virtualized,\n    virtualized = _props$virtualized === void 0 ? false : _props$virtualized,\n    className = props.className,\n    _props$classPrefix = props.classPrefix,\n    classPrefix = _props$classPrefix === void 0 ? 'picker' : _props$classPrefix,\n    menuClassName = props.menuClassName,\n    _props$menuAutoWidth = props.menuAutoWidth,\n    menuAutoWidth = _props$menuAutoWidth === void 0 ? true : _props$menuAutoWidth,\n    _props$uncheckableIte = props.uncheckableItemValues,\n    uncheckableItemValues = _props$uncheckableIte === void 0 ? emptyArray : _props$uncheckableIte,\n    id = props.id,\n    listProps = props.listProps,\n    renderMenu = props.renderMenu,\n    getChildren = props.getChildren,\n    renderExtraFooter = props.renderExtraFooter,\n    onEntered = props.onEntered,\n    onChange = props.onChange,\n    onClean = props.onClean,\n    onClose = props.onClose,\n    onExited = props.onExited,\n    onSearch = props.onSearch,\n    onSelect = props.onSelect,\n    onSelectItem = props.onSelectItem,\n    onOpen = props.onOpen,\n    onScroll = props.onScroll,\n    onExpand = props.onExpand,\n    renderValue = props.renderValue,\n    renderTreeIcon = props.renderTreeIcon,\n    renderTreeNode = props.renderTreeNode,\n    rest = _objectWithoutPropertiesLoose(props, [\"as\", \"data\", \"style\", \"appearance\", \"cleanable\", \"countable\", \"searchBy\", \"toggleAs\", \"searchKeyword\", \"showIndentLine\", \"locale\", \"cascade\", \"disabled\", \"valueKey\", \"labelKey\", \"placement\", \"childrenKey\", \"placeholder\", \"value\", \"defaultValue\", \"defaultExpandAll\", \"disabledItemValues\", \"expandItemValues\", \"defaultExpandItemValues\", \"height\", \"menuMaxHeight\", \"menuStyle\", \"searchable\", \"virtualized\", \"className\", \"classPrefix\", \"menuClassName\", \"menuAutoWidth\", \"uncheckableItemValues\", \"id\", \"listProps\", \"renderMenu\", \"getChildren\", \"renderExtraFooter\", \"onEntered\", \"onChange\", \"onClean\", \"onClose\", \"onExited\", \"onSearch\", \"onSelect\", \"onSelectItem\", \"onOpen\", \"onScroll\", \"onExpand\", \"renderValue\", \"renderTreeIcon\", \"renderTreeNode\"]);\n  var _useContext = useContext(TreeContext),\n    inline = _useContext.inline;\n  var _usePickerRef = usePickerRef(ref, {\n      inline: inline\n    }),\n    trigger = _usePickerRef.trigger,\n    root = _usePickerRef.root,\n    target = _usePickerRef.target,\n    overlay = _usePickerRef.overlay,\n    list = _usePickerRef.list,\n    searchInput = _usePickerRef.searchInput,\n    treeView = _usePickerRef.treeView;\n  var _useCustom = useCustom('Picker', overrideLocale),\n    rtl = _useCustom.rtl,\n    locale = _useCustom.locale;\n  var _useState = useState(false),\n    active = _useState[0],\n    setActive = _useState[1];\n  var _useState2 = useState(null),\n    activeNode = _useState2[0],\n    setActiveNode = _useState2[1];\n  var _useClassNames = useClassNames(classPrefix),\n    prefix = _useClassNames.prefix,\n    merge = _useClassNames.merge;\n  var _useClassNames2 = useClassNames(inline && classPrefix !== 'picker' ? classPrefix : 'check-tree'),\n    checkTreePrefix = _useClassNames2.prefix,\n    withCheckTreeClassPrefix = _useClassNames2.withClassPrefix;\n  var _useControlled = useControlled(controlledValue, defaultValue),\n    value = _useControlled[0],\n    setValue = _useControlled[1],\n    isControlled = _useControlled[2];\n  var _useGetTreeNodeChildr = useGetTreeNodeChildren(data, valueKey, childrenKey),\n    treeData = _useGetTreeNodeChildr.data,\n    setTreeData = _useGetTreeNodeChildr.setData,\n    loadingNodeValues = _useGetTreeNodeChildr.loadingNodeValues,\n    loadChildren = _useGetTreeNodeChildr.loadChildren;\n  var _useControlled2 = useControlled(controlledExpandItemValues, getDefaultExpandItemValues(treeData, {\n      defaultExpandAll: defaultExpandAll,\n      valueKey: valueKey,\n      childrenKey: childrenKey,\n      defaultExpandItemValues: defaultExpandItemValues\n    })),\n    expandItemValues = _useControlled2[0],\n    setExpandItemValues = _useControlled2[1];\n  var _useState3 = useState(null),\n    focusItemValue = _useState3[0],\n    setFocusItemValue = _useState3[1];\n  var _useFlattenTreeData = useFlattenTreeData({\n      data: treeData,\n      labelKey: labelKey,\n      valueKey: valueKey,\n      childrenKey: childrenKey,\n      uncheckableItemValues: uncheckableItemValues,\n      callback: function callback(nodes) {\n        // after flattenData, always unSerialize check property value\n        unSerializeList({\n          nodes: nodes,\n          key: 'check',\n          value: value,\n          cascade: cascade,\n          uncheckableItemValues: uncheckableItemValues\n        });\n        forceUpdate();\n      }\n    }),\n    flattenNodes = _useFlattenTreeData.flattenNodes,\n    forceUpdate = _useFlattenTreeData.forceUpdate,\n    formatVirtualizedTreeData = _useFlattenTreeData.formatVirtualizedTreeData,\n    serializeListOnlyParent = _useFlattenTreeData.serializeListOnlyParent,\n    unSerializeList = _useFlattenTreeData.unSerializeList;\n  var _useTreeSearch = useTreeSearch({\n      labelKey: labelKey,\n      childrenKey: childrenKey,\n      searchKeyword: searchKeyword,\n      data: treeData,\n      searchBy: searchBy,\n      callback: function callback(searchKeyword, _filterData, event) {\n        onSearch === null || onSearch === void 0 ? void 0 : onSearch(searchKeyword, event);\n      }\n    }),\n    filteredData = _useTreeSearch.filteredData,\n    searchKeywordState = _useTreeSearch.searchKeywordState,\n    setSearchKeyword = _useTreeSearch.setSearchKeyword,\n    handleSearch = _useTreeSearch.handleSearch,\n    setFilteredData = _useTreeSearch.setFilteredData;\n  var _useTreeNodeRefs = useTreeNodeRefs(),\n    treeNodesRefs = _useTreeNodeRefs.treeNodesRefs,\n    saveTreeNodeRef = _useTreeNodeRefs.saveTreeNodeRef;\n  /**\n   * get formatted nodes for render tree\n   * @params render - renderNode function. only used when virtualized setting false\n   */\n  var getFormattedNodes = function getFormattedNodes(render) {\n    if (virtualized) {\n      return formatVirtualizedTreeData(flattenNodes, filteredData, expandItemValues, {\n        cascade: cascade,\n        searchKeyword: searchKeywordState\n      }).filter(function (item) {\n        return item.visible;\n      });\n    }\n    return getFormattedTree(flattenNodes, filteredData, {\n      childrenKey: childrenKey,\n      cascade: cascade\n    }).map(function (node) {\n      return render === null || render === void 0 ? void 0 : render(node, 1);\n    });\n  };\n  var getTreeNodeProps = function getTreeNodeProps(node, layer) {\n    return {\n      as: Component,\n      rtl: rtl,\n      value: node[valueKey],\n      label: node[labelKey],\n      layer: layer,\n      focus: focusItemValue === node[valueKey],\n      expand: node.expand,\n      visible: node.visible,\n      loading: loadingNodeValues.some(function (item) {\n        return item === node[valueKey];\n      }),\n      disabled: getDisabledState(flattenNodes, node, {\n        disabledItemValues: disabledItemValues,\n        valueKey: valueKey\n      }),\n      nodeData: node,\n      checkState: node.checkState,\n      uncheckable: isNodeUncheckable(node, {\n        uncheckableItemValues: uncheckableItemValues,\n        valueKey: valueKey\n      }),\n      allUncheckable: isAllSiblingNodeUncheckable(node, flattenNodes, uncheckableItemValues, valueKey),\n      onSelect: handleSelect,\n      onExpand: handleExpand,\n      renderTreeNode: renderTreeNode,\n      renderTreeIcon: renderTreeIcon\n    };\n  };\n  var focusActiveNode = function focusActiveNode() {\n    if (list.current) {\n      focusToActiveTreeNode({\n        list: list.current,\n        valueKey: valueKey,\n        selector: \".\" + checkTreePrefix('node-active'),\n        activeNode: activeNode,\n        virtualized: virtualized,\n        container: treeView.current,\n        formattedNodes: getFormattedNodes()\n      });\n    }\n  };\n  useEffect(function () {\n    setValue(getCheckTreePickerDefaultValue(value, uncheckableItemValues));\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(function () {\n    setFilteredData(data, searchKeywordState);\n    setTreeData(data);\n  }, [data, searchKeywordState, setFilteredData, setTreeData]);\n  useEffect(function () {\n    setFilteredData(treeData, searchKeywordState);\n  }, [treeData, searchKeywordState, setFilteredData]);\n  useEffect(function () {\n    if (Array.isArray(controlledExpandItemValues)) {\n      setExpandItemValues(controlledExpandItemValues);\n    }\n  }, [controlledExpandItemValues, setExpandItemValues]);\n  useEffect(function () {\n    setSearchKeyword(searchKeyword !== null && searchKeyword !== void 0 ? searchKeyword : '');\n  }, [searchKeyword, setSearchKeyword]);\n  useEffect(function () {\n    unSerializeList({\n      nodes: flattenNodes,\n      key: 'check',\n      value: value,\n      cascade: cascade,\n      uncheckableItemValues: uncheckableItemValues\n    });\n    forceUpdate();\n  }, [cascade, value, uncheckableItemValues, unSerializeList, flattenNodes, forceUpdate]);\n  var toggleUpChecked = useEventCallback(function (nodes, node, checked) {\n    var currentNode = node.refKey ? nodes[node.refKey] : null;\n    if (cascade && currentNode) {\n      if (!checked) {\n        currentNode.check = checked;\n        currentNode.checkAll = checked;\n      } else {\n        if (isEveryChildChecked(nodes, currentNode)) {\n          currentNode.check = true;\n          currentNode.checkAll = true;\n        } else {\n          currentNode.check = false;\n          currentNode.checkAll = false;\n        }\n      }\n      if (currentNode.parent) {\n        toggleUpChecked(nodes, currentNode.parent, checked);\n      }\n    }\n  });\n  var toggleDownChecked = useEventCallback(function (nodes, node, isChecked) {\n    var currentNode = node.refKey ? nodes[node.refKey] : null;\n    if (!currentNode) {\n      return;\n    }\n    currentNode.check = isChecked;\n    if (!currentNode[childrenKey] || !currentNode[childrenKey].length || !cascade) {\n      currentNode.checkAll = false;\n    } else {\n      currentNode.checkAll = isChecked;\n      currentNode[childrenKey].forEach(function (child) {\n        toggleDownChecked(nodes, child, isChecked);\n      });\n    }\n  });\n  var toggleChecked = useEventCallback(function (node, isChecked) {\n    var nodes = _cloneDeep(flattenNodes);\n    toggleDownChecked(nodes, node, isChecked);\n    node.parent && toggleUpChecked(nodes, node.parent, isChecked);\n    var values = serializeListOnlyParent(nodes, 'check');\n    // filter uncheckableItemValues\n    return values.filter(function (v) {\n      return !uncheckableItemValues.includes(v);\n    });\n  });\n\n  // TODO-Doma\n  // Replace `getKeyParentMap` with `getParentMap`\n  var itemParentMap = useMemo(function () {\n    return getKeyParentMap(data, function (node) {\n      return node[valueKey];\n    }, function (node) {\n      return node[childrenKey];\n    });\n  }, [childrenKey, data, valueKey]);\n  var handleSelect = useEventCallback(function (node, event) {\n    var currentNode = node.refKey ? flattenNodes[node.refKey] : null;\n    if (!node || !currentNode) {\n      return;\n    }\n    var selectedValues = toggleChecked(node, !currentNode.check);\n    if (!isControlled) {\n      unSerializeList({\n        nodes: flattenNodes,\n        key: 'check',\n        value: selectedValues,\n        cascade: cascade,\n        uncheckableItemValues: uncheckableItemValues\n      });\n      setValue(selectedValues);\n    }\n    setActiveNode(node);\n    setFocusItemValue(node[valueKey]);\n    onChange === null || onChange === void 0 ? void 0 : onChange(selectedValues, event);\n    onSelect === null || onSelect === void 0 ? void 0 : onSelect(node, selectedValues, event);\n    onSelectItem === null || onSelectItem === void 0 ? void 0 : onSelectItem(node, getPathTowardsItem(node, function (item) {\n      return itemParentMap.get(item[valueKey]);\n    }));\n  });\n  var handleOpen = useEventCallback(function () {\n    var _trigger$current, _trigger$current$open;\n    (_trigger$current = trigger.current) === null || _trigger$current === void 0 ? void 0 : (_trigger$current$open = _trigger$current.open) === null || _trigger$current$open === void 0 ? void 0 : _trigger$current$open.call(_trigger$current);\n    setFocusItemValue(activeNode === null || activeNode === void 0 ? void 0 : activeNode[valueKey]);\n    focusActiveNode();\n    onOpen === null || onOpen === void 0 ? void 0 : onOpen();\n    setActive(true);\n  });\n  var handleClose = useEventCallback(function () {\n    var _trigger$current2, _trigger$current2$clo, _target$current;\n    (_trigger$current2 = trigger.current) === null || _trigger$current2 === void 0 ? void 0 : (_trigger$current2$clo = _trigger$current2.close) === null || _trigger$current2$clo === void 0 ? void 0 : _trigger$current2$clo.call(_trigger$current2);\n    setSearchKeyword('');\n    onClose === null || onClose === void 0 ? void 0 : onClose();\n    setFocusItemValue(null);\n    setActive(false);\n\n    /**\n     * when using keyboard toggle picker, should refocus on PickerToggle Component after close picker menu\n     */\n    (_target$current = target.current) === null || _target$current === void 0 ? void 0 : _target$current.focus();\n  });\n  var handleExpand = useEventCallback(function (node) {\n    var nextExpandItemValues = toggleExpand({\n      node: node,\n      isExpand: !node.expand,\n      expandItemValues: expandItemValues,\n      valueKey: valueKey\n    });\n    setExpandItemValues(nextExpandItemValues);\n    onExpand === null || onExpand === void 0 ? void 0 : onExpand(nextExpandItemValues, node, createConcatChildrenFunction(node, node[valueKey], {\n      valueKey: valueKey,\n      childrenKey: childrenKey\n    }));\n    if (_isFunction(getChildren) && !node.expand && Array.isArray(node[childrenKey]) && node[childrenKey].length === 0) {\n      loadChildren(node, getChildren);\n    }\n  });\n  var handleClean = useEventCallback(function (event) {\n    var target = event.target;\n    // exclude searchbox\n    if (target.matches('input[role=\"searchbox\"]') || disabled || !cleanable) {\n      return;\n    }\n    setActiveNode(null);\n    setFocusItemValue(null);\n    if (!isControlled) {\n      setValue([]);\n      unSerializeList({\n        nodes: flattenNodes,\n        key: 'check',\n        value: [],\n        cascade: cascade,\n        uncheckableItemValues: uncheckableItemValues\n      });\n    }\n    onChange === null || onChange === void 0 ? void 0 : onChange([], event);\n  });\n  var handleFocusItem = useEventCallback(function (key) {\n    var focusableItems = getFocusableItems(filteredData, {\n      disabledItemValues: disabledItemValues,\n      valueKey: valueKey,\n      childrenKey: childrenKey,\n      expandItemValues: expandItemValues\n    }, isSearching(searchKeywordState));\n    var selector = \".\" + checkTreePrefix('node-label');\n    var focusProps = {\n      focusItemValue: focusItemValue,\n      focusableItems: focusableItems,\n      treeNodesRefs: treeNodesRefs,\n      selector: selector,\n      valueKey: valueKey,\n      callback: function callback(nextFocusItemValue) {\n        setFocusItemValue(nextFocusItemValue);\n      }\n    };\n    if (key === KEY_VALUES.DOWN) {\n      focusNextItem(focusProps);\n      return;\n    }\n    if (key === KEY_VALUES.UP) {\n      focusPreviousItem(focusProps);\n    }\n  });\n  var handleLeftArrow = useEventCallback(function () {\n    if (_isNil(focusItemValue)) return;\n    var focusItem = getActiveItem(focusItemValue, flattenNodes, valueKey);\n    leftArrowHandler({\n      focusItem: focusItem,\n      expand: expandItemValues.includes(focusItem === null || focusItem === void 0 ? void 0 : focusItem[valueKey]),\n      onExpand: handleExpand,\n      childrenKey: childrenKey,\n      onFocusItem: function onFocusItem() {\n        var _focusItem$parent, _focusItem$parent2;\n        setFocusItemValue(focusItem === null || focusItem === void 0 ? void 0 : (_focusItem$parent = focusItem.parent) === null || _focusItem$parent === void 0 ? void 0 : _focusItem$parent[valueKey]);\n        focusTreeNode(focusItem === null || focusItem === void 0 ? void 0 : (_focusItem$parent2 = focusItem.parent) === null || _focusItem$parent2 === void 0 ? void 0 : _focusItem$parent2.refKey, treeNodesRefs, \".\" + checkTreePrefix('node-label'));\n      }\n    });\n  });\n  var handleRightArrow = useEventCallback(function () {\n    if (_isNil(focusItemValue)) return;\n    var focusItem = getActiveItem(focusItemValue, flattenNodes, valueKey);\n    rightArrowHandler({\n      focusItem: focusItem,\n      expand: expandItemValues.includes(focusItem === null || focusItem === void 0 ? void 0 : focusItem[valueKey]),\n      childrenKey: childrenKey,\n      onExpand: handleExpand,\n      onFocusItem: function onFocusItem() {\n        handleFocusItem(KEY_VALUES.DOWN);\n      }\n    });\n  });\n  var selectActiveItem = function selectActiveItem(event) {\n    if (_isNil(focusItemValue)) return;\n    var activeItem = getActiveItem(focusItemValue, flattenNodes, valueKey);\n    if (!isNodeUncheckable(activeItem, {\n      uncheckableItemValues: uncheckableItemValues,\n      valueKey: valueKey\n    }) && activeItem !== null) {\n      handleSelect(activeItem, event);\n    }\n  };\n  var onPickerKeydown = useToggleKeyDownEvent(_extends({\n    toggle: !focusItemValue || !active,\n    trigger: trigger,\n    target: target,\n    overlay: overlay,\n    searchInput: searchInput,\n    active: active,\n    onExit: handleClean,\n    onClose: handleClose,\n    onMenuKeyDown: function onMenuKeyDown(event) {\n      _onMenuKeyDown(event, {\n        down: function down() {\n          return handleFocusItem(KEY_VALUES.DOWN);\n        },\n        up: function up() {\n          return handleFocusItem(KEY_VALUES.UP);\n        },\n        left: rtl ? handleRightArrow : handleLeftArrow,\n        right: rtl ? handleLeftArrow : handleRightArrow,\n        enter: selectActiveItem,\n        del: handleClean\n      });\n    }\n  }, rest));\n  var handleTreeKeydown = useEventCallback(function (event) {\n    if (!treeView.current) {\n      return;\n    }\n    _onMenuKeyDown(event, {\n      down: function down() {\n        return handleFocusItem(KEY_VALUES.DOWN);\n      },\n      up: function up() {\n        return handleFocusItem(KEY_VALUES.UP);\n      },\n      left: rtl ? handleRightArrow : handleLeftArrow,\n      right: rtl ? handleLeftArrow : handleRightArrow,\n      enter: selectActiveItem\n    });\n  });\n  var renderNode = function renderNode(node, layer) {\n    var visible = node.visible,\n      refKey = node.refKey; // when searching, all nodes should be expand\n    var expand = getExpandWhenSearching(searchKeywordState, expandItemValues.includes(node[valueKey]));\n    if (!visible) {\n      return null;\n    }\n    var children = node[childrenKey];\n    var visibleChildren = _isUndefined(searchKeywordState) || searchKeywordState.length === 0 ? !!children : hasVisibleChildren(node, childrenKey);\n    var nodeProps = _extends({}, getTreeNodeProps(_extends({}, node, {\n      /**\n       * spread operator don't copy unenumerable properties\n       * so we need to copy them manually\n       */\n      parent: node.parent,\n      expand: expand\n    }), layer), {\n      hasChildren: visibleChildren\n    });\n    if (nodeProps.hasChildren) {\n      var _merge;\n      layer += 1;\n      var openClass = checkTreePrefix('open');\n      var childrenClass = merge(checkTreePrefix('node-children'), (_merge = {}, _merge[openClass] = expand && visibleChildren, _merge));\n      var nodes = children || [];\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: childrenClass,\n        key: node[valueKey]\n      }, /*#__PURE__*/React.createElement(CheckTreeNode, _extends({}, nodeProps, {\n        ref: function ref(_ref) {\n          return saveTreeNodeRef(_ref, refKey);\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: checkTreePrefix('group'),\n        role: \"group\"\n      }, nodes.map(function (child) {\n        return renderNode(child, layer);\n      }), showIndentLine && /*#__PURE__*/React.createElement(\"span\", {\n        className: checkTreePrefix('indent-line'),\n        style: getTreeNodeIndent(rtl, layer - 1, true)\n      })));\n    }\n    return /*#__PURE__*/React.createElement(CheckTreeNode, _extends({\n      key: node[valueKey],\n      ref: function ref(_ref2) {\n        return saveTreeNodeRef(_ref2, refKey);\n      }\n    }, nodeProps));\n  };\n  var renderVirtualListNode = function renderVirtualListNode(_ref3) {\n    var index = _ref3.index,\n      style = _ref3.style,\n      data = _ref3.data;\n    var node = data[index];\n    var layer = node.layer,\n      refKey = node.refKey,\n      visible = node.visible;\n    var expand = getExpandWhenSearching(searchKeywordState, expandItemValues.includes(node[valueKey]));\n    var nodeProps = _extends({}, getTreeNodeProps(_extends({}, node, {\n      /**\n       * spread operator don't copy unenumerable properties\n       * so we need to copy them manually\n       */\n      parent: node.parent,\n      expand: expand\n    }), layer), {\n      hasChildren: node.hasChildren\n    });\n    return visible && /*#__PURE__*/React.createElement(CheckTreeNode, _extends({\n      style: style,\n      ref: function ref(_ref4) {\n        return saveTreeNodeRef(_ref4, refKey);\n      }\n    }, nodeProps));\n  };\n  var renderCheckTree = function renderCheckTree() {\n    var _merge2, _merge3;\n    var classes = merge(withCheckTreeClassPrefix({\n      'without-children': !isSomeNodeHasChildren(data, childrenKey),\n      virtualized: virtualized\n    }), (_merge2 = {}, _merge2[className !== null && className !== void 0 ? className : ''] = inline, _merge2));\n    var formattedNodes = getFormattedNodes(renderNode);\n    if (!formattedNodes.some(function (v) {\n      return v !== null;\n    })) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: prefix('none')\n      }, locale.noResultsText);\n    }\n    var treeNodesClass = merge(checkTreePrefix('root'), (_merge3 = {}, _merge3[checkTreePrefix('all-uncheckable')] = isEveryFirstLevelNodeUncheckable(flattenNodes, uncheckableItemValues, valueKey), _merge3));\n    var treeViewProps = {\n      ref: treeView\n    };\n    if (inline) {\n      treeViewProps = _extends({\n        ref: root,\n        style: _extends({\n          height: height\n        }, style)\n      }, rest);\n    }\n    return /*#__PURE__*/React.createElement(TreeView, _extends({}, treeViewProps, {\n      multiselectable: true,\n      treeRootClassName: treeNodesClass,\n      className: classes,\n      onScroll: onScroll,\n      onKeyDown: inline ? handleTreeKeydown : undefined\n    }), virtualized ? /*#__PURE__*/React.createElement(AutoSizer, {\n      defaultHeight: inline ? height : menuMaxHeight,\n      style: {\n        width: 'auto',\n        height: 'auto'\n      }\n    }, function (_ref5) {\n      var height = _ref5.height;\n      return /*#__PURE__*/React.createElement(List, _extends({\n        ref: list,\n        height: height,\n        itemSize: itemSize,\n        itemCount: formattedNodes.length,\n        itemData: formattedNodes\n      }, listProps), renderVirtualListNode);\n    }) : formattedNodes);\n  };\n  var renderDropdownMenu = function renderDropdownMenu(positionProps, speakerRef) {\n    var left = positionProps.left,\n      top = positionProps.top,\n      className = positionProps.className;\n    var classes = classNames(className, menuClassName, prefix('check-tree-menu'));\n    var mergedMenuStyle = _extends({}, menuStyle, {\n      left: left,\n      top: top\n    });\n    return /*#__PURE__*/React.createElement(PickerPopup, {\n      autoWidth: menuAutoWidth,\n      className: classes,\n      style: mergedMenuStyle,\n      ref: mergeRefs(overlay, speakerRef),\n      onKeyDown: onPickerKeydown,\n      target: trigger\n    }, searchable ? /*#__PURE__*/React.createElement(SearchBox, {\n      placeholder: locale.searchPlaceholder,\n      onChange: handleSearch,\n      value: searchKeywordState,\n      inputRef: searchInput\n    }) : null, renderMenu ? renderMenu(renderCheckTree()) : renderCheckTree(), renderExtraFooter === null || renderExtraFooter === void 0 ? void 0 : renderExtraFooter());\n  };\n  var selectedItems = useMemo(function () {\n    return getSelectedItems(flattenNodes, value);\n  }, [flattenNodes, value]);\n  /**\n   * 1.Have a value and the value is valid.\n   * 2.Regardless of whether the value is valid, as long as renderValue is set, it is judged to have a value.\n   */\n  var hasValidValue = selectedItems.length > 0 || value.length > 0 && _isFunction(renderValue);\n  var selectedElement = placeholder;\n  if (hasValidValue) {\n    selectedElement = /*#__PURE__*/React.createElement(SelectedElement, {\n      selectedItems: selectedItems,\n      countable: countable,\n      valueKey: valueKey,\n      labelKey: labelKey,\n      childrenKey: childrenKey,\n      prefix: prefix,\n      cascade: cascade,\n      locale: locale\n    });\n    if (_isFunction(renderValue)) {\n      selectedElement = renderValue(value, selectedItems, selectedElement);\n      if (_isNil(selectedElement)) {\n        hasValidValue = false;\n      }\n    }\n  }\n  var _usePickerClassName = usePickerClassName(_extends({}, props, {\n      classPrefix: classPrefix,\n      appearance: appearance,\n      countable: countable,\n      cleanable: cleanable,\n      disabled: disabled,\n      hasValue: hasValidValue,\n      name: 'check-tree'\n    })),\n    classes = _usePickerClassName[0],\n    usedClassNamePropKeys = _usePickerClassName[1];\n  if (inline) {\n    return renderCheckTree();\n  }\n  return /*#__PURE__*/React.createElement(PickerToggleTrigger, {\n    id: id,\n    popupType: \"tree\",\n    multiple: true,\n    pickerProps: _pick(props, pickTriggerPropKeys),\n    ref: trigger,\n    placement: placement,\n    onEnter: handleOpen,\n    onEntered: onEntered,\n    onExited: createChainedFunction(handleClose, onExited),\n    speaker: renderDropdownMenu\n  }, /*#__PURE__*/React.createElement(Component, {\n    className: classes,\n    style: style,\n    ref: root\n  }, /*#__PURE__*/React.createElement(PickerToggle, _extends({}, _omit(rest, [].concat(omitTriggerPropKeys, usedClassNamePropKeys)), {\n    ref: target,\n    appearance: appearance,\n    onKeyDown: onPickerKeydown,\n    onClean: createChainedFunction(handleClean, onClean),\n    cleanable: cleanable && !disabled,\n    disabled: disabled,\n    as: toggleAs,\n    hasValue: hasValidValue,\n    active: active,\n    placement: placement,\n    inputValue: value,\n    focusItemValue: focusItemValue\n  }), selectedElement || locale.placeholder)));\n});\nCheckTreePicker.displayName = 'CheckTreePicker';\nCheckTreePicker.propTypes = _extends({}, listPickerPropTypes, {\n  height: PropTypes.number,\n  appearance: oneOf(['default', 'subtle']),\n  locale: PropTypes.any,\n  cascade: PropTypes.bool,\n  countable: PropTypes.bool,\n  searchable: PropTypes.bool,\n  virtualized: PropTypes.bool,\n  searchKeyword: PropTypes.string,\n  menuAutoWidth: PropTypes.bool,\n  defaultExpandAll: PropTypes.bool,\n  containerPadding: PropTypes.number,\n  disabledItemValues: PropTypes.array,\n  expandItemValues: PropTypes.array,\n  defaultExpandItemValues: PropTypes.array,\n  uncheckableItemValues: PropTypes.array,\n  onSearch: PropTypes.func,\n  onExpand: PropTypes.func,\n  onSelect: PropTypes.func,\n  renderMenu: PropTypes.func,\n  renderTreeNode: PropTypes.func,\n  renderTreeIcon: PropTypes.func,\n  searchBy: PropTypes.func,\n  onScroll: PropTypes.func\n});\nexport default CheckTreePicker;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}